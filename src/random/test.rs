use crate::random::legacy::LegacyRandom;
use crate::random::RandomSource;
use crate::random::xoroshiro::XoroshiroRandom;

const SEED: i64 = 0x786b544d6f473757_i64;

#[test]
fn legacy_test() {
    let sample_i32 = vec![954898401_i32, -1053069177_i32, -40844823_i32, 1854157604_i32, 1801368409_i32, 1345508752_i32, 156183628_i32, 1104020348_i32, -145530472_i32, 1247923899_i32, 854024009_i32, 644211364_i32, 1879242932_i32, 1387703052_i32, -1175905899_i32, 1052238351_i32, 1968651744_i32, -2141807308_i32, 185053737_i32, -1366279744_i32, -1520560947_i32, 1796227367_i32, 1833955398_i32, 1456200191_i32, -1823522483_i32, 1073243884_i32, 2056576953_i32, -1995185078_i32, -705028295_i32, -1215809869_i32, -1726012064_i32, -1088209014_i32, 1266447509_i32, 477168172_i32, 56530924_i32, 1028963206_i32, 1251066353_i32, 1623938838_i32, -1877597977_i32, -1590986852_i32, -1529039599_i32, -74701035_i32, -831116808_i32, 1231978669_i32, -8216112_i32, 2072254664_i32, 370809446_i32, 294378073_i32, 713762113_i32, 1155159578_i32, -1759401766_i32, 1149658988_i32, 838096662_i32, 993356760_i32, -85523096_i32, -403348073_i32, -141677243_i32, 1926893188_i32, -1101062192_i32, 1960013922_i32, 817231336_i32, -1087317912_i32, -1673425408_i32, -582598815_i32, -1053488284_i32, -1029614355_i32, 1659492060_i32, -345533531_i32, 454305485_i32, 1136782636_i32, -1195629246_i32, -659879819_i32, -1402538871_i32, 331450821_i32, 636725064_i32, -1358709954_i32, 2116669234_i32, -353829392_i32, 1281433031_i32, -5767481_i32, 612746433_i32, -950038575_i32, 1493458973_i32, -1635742296_i32, -1888663064_i32, -1589693937_i32, 1221842989_i32, -265031684_i32, 1556496318_i32, -1833287002_i32, -1380894038_i32, 2056652885_i32, 427569057_i32, -589438212_i32, -625279083_i32, -2024866832_i32, -1625300649_i32, -963035854_i32, 605970179_i32, -166991319_i32, 241676150_i32, 358828733_i32, -1769613789_i32, -1178654928_i32, 238435846_i32, -2107772876_i32, -511936385_i32, -1029902851_i32, 419657572_i32, -579960214_i32, 1457426818_i32, 1339866497_i32, 165540712_i32, -1498347329_i32, -873178566_i32, 1343673629_i32, 1962486986_i32, 1999425715_i32, -816068771_i32, -929528745_i32, -132175679_i32, 554051259_i32, 1169339281_i32, 1518420427_i32, -878545684_i32, -1764603816_i32, -700257817_i32, 1126546783_i32];
    let sample_i32_bound = vec![18_i32, 16_i32, 4_i32, 19_i32, 17_i32, 19_i32, 6_i32, 18_i32, 28_i32, 14_i32, 35_i32, 31_i32, 5_i32, 16_i32, 15_i32, 11_i32, 3_i32, 43_i32, 12_i32, 53_i32, 46_i32, 50_i32, 9_i32, 24_i32, 18_i32, 47_i32, 30_i32, 61_i32, 37_i32, 1_i32, 47_i32, 22_i32, 7_i32, 67_i32, 9_i32, 23_i32, 86_i32, 10_i32, 46_i32, 68_i32, 64_i32, 60_i32, 51_i32, 36_i32, 9_i32, 63_i32, 97_i32, 32_i32, 31_i32, 106_i32, 73_i32, 57_i32, 115_i32, 13_i32, 28_i32, 29_i32, 61_i32, 114_i32, 17_i32, 27_i32, 61_i32, 106_i32, 113_i32, 106_i32, 14_i32, 148_i32, 78_i32, 102_i32, 34_i32, 130_i32, 1_i32, 144_i32, 35_i32, 49_i32, 147_i32, 101_i32, 95_i32, 9_i32, 76_i32, 102_i32, 142_i32, 90_i32, 174_i32, 143_i32, 73_i32, 119_i32, 32_i32, 81_i32, 101_i32, 12_i32, 62_i32, 24_i32, 195_i32, 55_i32, 190_i32, 147_i32, 211_i32, 199_i32, 13_i32, 158_i32, 3_i32, 79_i32, 104_i32, 37_i32, 120_i32, 89_i32, 135_i32, 219_i32, 193_i32, 77_i32, 83_i32, 41_i32, 81_i32, 140_i32, 1_i32, 131_i32, 211_i32, 4_i32, 119_i32, 41_i32, 253_i32, 99_i32, 138_i32, 262_i32, 241_i32, 147_i32, 41_i32, 270_i32];
    let sample_i32_between_inclusive = vec![20_i32, 24_i32, 25_i32, 34_i32, 31_i32, 40_i32, 42_i32, 45_i32, 50_i32, 52_i32, 51_i32, 47_i32, 44_i32, 75_i32, 49_i32, 69_i32, 94_i32, 84_i32, 74_i32, 63_i32, 66_i32, 110_i32, 112_i32, 135_i32, 106_i32, 137_i32, 126_i32, 104_i32, 119_i32, 81_i32, 146_i32, 153_i32, 179_i32, 164_i32, 162_i32, 104_i32, 136_i32, 135_i32, 142_i32, 206_i32, 100_i32, 190_i32, 104_i32, 139_i32, 194_i32, 166_i32, 127_i32, 250_i32, 135_i32, 136_i32, 131_i32, 226_i32, 280_i32, 255_i32, 171_i32, 286_i32, 192_i32, 226_i32, 246_i32, 209_i32, 214_i32, 281_i32, 322_i32, 183_i32, 244_i32, 330_i32, 292_i32, 355_i32, 342_i32, 279_i32, 348_i32, 274_i32, 224_i32, 352_i32, 382_i32, 273_i32, 374_i32, 271_i32, 263_i32, 262_i32, 310_i32, 357_i32, 375_i32, 236_i32, 228_i32, 239_i32, 290_i32, 235_i32, 435_i32, 341_i32, 237_i32, 262_i32, 384_i32, 416_i32, 242_i32, 422_i32, 294_i32, 314_i32, 249_i32, 410_i32, 481_i32, 517_i32, 239_i32, 405_i32, 494_i32, 516_i32, 265_i32, 510_i32, 453_i32, 282_i32, 393_i32, 446_i32, 368_i32, 457_i32, 510_i32, 416_i32, 438_i32, 534_i32, 362_i32, 380_i32, 409_i32, 289_i32, 606_i32, 300_i32, 318_i32, 323_i32, 602_i32, 363_i32];
    let sample_i64 = vec![5303510039994237677_i64, 9150911239813827275_i64, 218597215726674090_i64, -2036424487895226562_i64, 736353435372936853_i64, -1783704009468922312_i64, -8030277584958811927_i64, -1414868460546286299_i64, -4649978262469113072_i64, -1254857249388843136_i64, -1340761739930837707_i64, 6676025460824848520_i64, 3316515398850172695_i64, 9215373314824399924_i64, -8019388122907646944_i64, 5275025709741732707_i64, 7310939053877007542_i64, 630386324003325783_i64, -8283628377130669872_i64, 7539790869938163812_i64, -5977650029617467445_i64, -1621241547200693276_i64, -8905282705324633731_i64, -8526934987135959699_i64, 1836587197793997962_i64, 7025859594307022661_i64, -105973073755490826_i64, 1250270200848762390_i64, 538652161405314555_i64, 6582115356285422557_i64, -500665664200671715_i64, 3326398278253581864_i64, -7988896591945628550_i64, -9155522209677972608_i64, -4017937214251773850_i64, 8431783141217553443_i64, -661804007459199945_i64, 5455312875672080886_i64, 2624836283414548572_i64, 7894892531551116217_i64, -2460131161698618444_i64, 6431498845413472124_i64, -8134118073637196515_i64, 3124066003034816593_i64, 4189588196946858570_i64, 2976513242890543938_i64, 1203084398285783001_i64, 8187299609478184837_i64, -5646598118532868444_i64, -8230317671926245907_i64, -5906628061501785514_i64, 563216305012702116_i64, 5425963380376921409_i64, -9063003660970081257_i64, -2635166529786698385_i64, -3084361266264369615_i64, 4967880163228751606_i64, -3165814601602064182_i64, -6861095707990691952_i64, 1298935134030668385_i64, -145748876677337238_i64, 97184108294961161_i64, 1788087917748439868_i64, 6717809050823763873_i64, -61201535979428967_i64, -581141185479780024_i64, 8341957849341762952_i64, -3636308067024505841_i64, 5308294318608937042_i64, -1489562517802823185_i64, -6052902734970291043_i64, 2701297889860566780_i64, 4778974727588823225_i64, 5447050064553654234_i64, -6251309784751063495_i64, 3013449483724004208_i64, -4645727988542774075_i64, 292182609007231963_i64, -6515705280208644562_i64, -5038164859345749338_i64, -332936845219211325_i64, -8306425726361797577_i64, 4992276574304044258_i64, -5509191654638879093_i64, 7863215277302388433_i64, 407102120776658725_i64, -489200978268105266_i64, -2973976921318433725_i64, -2905585592936626332_i64, -8674037616673571501_i64, -1058146415031849473_i64, -2298514308213207387_i64, 3247560226888232387_i64, 1294855954255869024_i64, 1974643342866852504_i64, -4265764875003651910_i64, 4680278485621945225_i64, 95483661157054819_i64, 7520653471766646606_i64, -8329313037403056063_i64, -6445684388281303513_i64, -4061887557642009757_i64, -2853579742529649430_i64, -7988701355008694226_i64, -9174598777581431457_i64, -5637319936932108836_i64, -7140438465990531125_i64, 574121679637123879_i64, 8988417003078490570_i64, -2050714548547392704_i64, -776050376771869087_i64, -7883277814773410298_i64, -6067504389632029869_i64, 6265698581729345396_i64, 5282845709873328051_i64, 4986849825586573914_i64, 8007103580425887674_i64, -7496869666973914545_i64, 7775774486738596314_i64, -401389924193070875_i64, 4024921078113822995_i64, 3037208875331148318_i64, -2590848283333318524_i64, 581105924085117983_i64, 7758536127588371524_i64, 148686838182837795_i64, 6035440326263880562_i64, 7446861390449588913_i64];
    let sample_bool = vec![false, true, false, true, true, true, false, false, true, true, false, true, true, false, true, false, true, true, true, false, true, false, false, true, false, false, false, false, false, true, false, true, false, true, false, true, false, false, true, true, true, false, false, true, true, true, false, false, true, false, true, true, false, false, true, false, true, true, false, true, true, true, true, false, false, true, false, false, false, true, true, false, true, false, true, false, true, false, true, false, false, false, true, false, false, true, false, false, false, false, true, true, false, false, true, true, true, false, false, false, false, true, false, false, false, true, true, false, false, true, false, true, true, true, true, false, false, false, false, true, false, false, false, false, false, true, true, false];
    let sample_f32 = vec![0.7497557_f32, 0.22282839_f32, 0.29310155_f32, 0.70408225_f32, 0.419721_f32, 0.7806516_f32, 0.85370886_f32, 0.71612424_f32, 0.005925715_f32, 0.92622006_f32, 0.5887545_f32, 0.07064849_f32, 0.17609179_f32, 0.4049586_f32, 0.630782_f32, 0.9873058_f32, 0.4811678_f32, 0.06342894_f32, 0.1564942_f32, 0.03562677_f32, 0.36944115_f32, 0.9848117_f32, 0.080379725_f32, 0.34929287_f32, 0.5205371_f32, 0.7240176_f32, 0.08919084_f32, 0.3198079_f32, 0.14003384_f32, 0.8603083_f32, 0.06310135_f32, 0.9236082_f32, 0.8516746_f32, 0.88556033_f32, 0.9360322_f32, 0.5055873_f32, 0.5641204_f32, 0.15506327_f32, 0.050441742_f32, 0.68556494_f32, 0.18165284_f32, 0.70301956_f32, 0.48369837_f32, 0.6632271_f32, 0.17262012_f32, 0.7028372_f32, 0.6024499_f32, 0.36544907_f32, 0.8457555_f32, 0.09713876_f32, 0.94229287_f32, 0.85475576_f32, 0.14345735_f32, 0.8765283_f32, 0.13223934_f32, 0.14916754_f32, 0.91398406_f32, 0.92007977_f32, 0.97233784_f32, 0.99514866_f32, 0.93320775_f32, 0.572854_f32, 0.429303_f32, 0.29326165_f32, 0.5136218_f32, 0.90329146_f32, 0.50574726_f32, 0.36000597_f32, 0.85687214_f32, 0.11093265_f32, 0.9458146_f32, 0.2818792_f32, 0.50997627_f32, 0.9256043_f32, 0.111539185_f32, 0.49476248_f32, 0.39901352_f32, 0.2141065_f32, 0.16357422_f32, 0.8222447_f32, 0.102458835_f32, 0.8788026_f32, 0.7361524_f32, 0.40253538_f32, 0.8451539_f32, 0.56173056_f32, 0.45398027_f32, 0.8003621_f32, 0.33945107_f32, 0.55343485_f32, 0.008583546_f32, 0.66603595_f32, 0.15924299_f32, 0.62128603_f32, 0.7193911_f32, 0.30013072_f32, 0.032943666_f32, 0.5193798_f32, 0.9421616_f32, 0.5935415_f32, 0.90117407_f32, 0.6010579_f32, 0.76146126_f32, 0.92674845_f32, 0.06272656_f32, 0.9336937_f32, 0.7876303_f32, 0.56974417_f32, 0.37773818_f32, 0.39975017_f32, 0.76051724_f32, 0.96922386_f32, 0.5999445_f32, 0.57252294_f32, 0.9963078_f32, 0.5393634_f32, 0.15106928_f32, 0.37179542_f32, 0.46976233_f32, 0.38701242_f32, 0.35112303_f32, 0.15437174_f32, 0.7374464_f32, 0.9547303_f32, 0.4905491_f32, 0.5757464_f32, 0.7290782_f32, 0.21223855_f32];
    let sample_f64 = vec![0.5263094037588881_f64, 0.1805171456652812_f64, 0.3473034937385182_f64, 0.6854158002385385_f64, 0.8687602020418613_f64, 0.8009927309368412_f64, 0.9548363886090748_f64, 0.6702462382833926_f64, 0.7486487219355247_f64, 0.2973081181924614_f64, 0.2150122452847152_f64, 0.029267680693602083_f64, 0.019552117962620685_f64, 0.31702525306766016_f64, 0.6155100092421444_f64, 0.3255415055280635_f64, 0.06401896945323271_f64, 0.08183343816340882_f64, 0.5430380320098673_f64, 0.24445758320957245_f64, 0.21330622945899713_f64, 0.1738665468228534_f64, 0.5060118365524059_f64, 0.2174046006843452_f64, 0.5164135699339791_f64, 0.1999201548740268_f64, 0.9610611777164024_f64, 0.2507484155503169_f64, 0.6548326106895822_f64, 0.7855037949453488_f64, 0.14964705064090444_f64, 0.6976976974640057_f64, 0.6519670818505665_f64, 0.3672645537307069_f64, 0.5942333030022424_f64, 0.7428627066272295_f64, 0.9099696106961617_f64, 0.5501696902634602_f64, 0.6778711658083354_f64, 0.1827899370968299_f64, 0.021779040469290023_f64, 0.3749382998886672_f64, 0.036719703084820976_f64, 0.6804813239598955_f64, 0.7524324231463054_f64, 0.7015626019911674_f64, 0.33193894115399003_f64, 0.04788377482939177_f64, 0.5612636248322023_f64, 0.056361721219069905_f64, 0.3355563312795591_f64, 0.2675612538093778_f64, 0.04539056505006078_f64, 0.7128621499263708_f64, 0.16432149345673008_f64, 0.9032380117934377_f64, 0.7249315607231668_f64, 0.4809005861354073_f64, 0.926228317823653_f64, 0.2686282677294227_f64, 0.6616805804000278_f64, 0.6636964023792234_f64, 0.006297374150340707_f64, 0.2249442691743997_f64, 0.5055102421535008_f64, 0.9092427802384188_f64, 0.711375601455656_f64, 0.7597010629653965_f64, 0.6965603331128706_f64, 0.23021688758561254_f64, 0.018124568023794807_f64, 0.5629129202777886_f64, 0.716308713279386_f64, 0.29571094673738574_f64, 0.7240324916829981_f64, 0.6615030357223782_f64, 0.47691097425354634_f64, 0.20843799951634_f64, 0.388199108403552_f64, 0.7987246041246343_f64, 0.16573324741768547_f64, 0.37266742755184057_f64, 0.06680708932521273_f64, 0.6526177457409965_f64, 0.12079297027204627_f64, 0.7309966525609507_f64, 0.9976068417653307_f64, 0.1760038204614619_f64, 0.6028602619298987_f64, 0.602167756316053_f64, 0.06840683937263259_f64, 0.3102445813797252_f64, 0.651262388992641_f64, 0.5874885052264346_f64, 0.11647438670976484_f64, 0.07597076706887573_f64, 0.5629726111146937_f64, 0.5300189731351032_f64, 0.848916687640705_f64, 0.5762108401044175_f64, 0.9183536438209081_f64, 0.308537389640714_f64, 0.4485259171069337_f64, 0.7608275541757882_f64, 0.4919653476782343_f64, 0.3273988111492291_f64, 0.7352357501812417_f64, 0.895896204592571_f64, 0.8331349599637604_f64, 0.9237535889983101_f64, 0.09025141946340032_f64, 0.5576352325348494_f64, 0.778527509012809_f64, 0.5551923749325467_f64, 0.21807892967784948_f64, 0.6277263136408415_f64, 0.6677429791945904_f64, 0.5537377114968057_f64, 0.2210933299882325_f64, 0.2053377476143723_f64, 0.5730059666989092_f64, 0.4362022043206365_f64, 0.3919500210862076_f64, 0.5708912069176236_f64, 0.4253024912872654_f64, 0.24628618288111181_f64, 0.5910572833680285_f64, 0.3375891000001159_f64];
    check_against_samples(
        LegacyRandom::new(SEED).as_mut(),
        187,
        sample_i32.as_slice(),
        sample_i32_bound.as_slice(),
        sample_i32_between_inclusive.as_slice(),
        sample_i64.as_slice(),
        sample_bool.as_slice(),
        sample_f32.as_slice(),
        sample_f64.as_slice(),
    )
}

#[test]
fn legacy_fork_test() {
    let sample_i32 = vec![783055123_i32, -1577458900_i32, -1525130148_i32, 2055137285_i32, -1620375182_i32, 660982070_i32, -1418009244_i32, -1527678945_i32, -1035202064_i32, 162737958_i32, -540567969_i32, -999305418_i32, -1897958868_i32, 215362282_i32, 1801513483_i32, -342902434_i32, 2103731990_i32, 1272037551_i32, -806110939_i32, -1817368395_i32, 1170131104_i32, -696065918_i32, -2114547390_i32, -1332435549_i32, -694817100_i32, 1416305209_i32, -456710945_i32, 640548707_i32, -79138456_i32, -199742572_i32, -2069485386_i32, -1560084286_i32, 174012527_i32, -386675554_i32, 2114138707_i32, 1307979047_i32, -1042444846_i32, -2145821095_i32, -1903203355_i32, 2017053138_i32, -2106382368_i32, 243621785_i32, -1666764455_i32, 1322760040_i32, -244294045_i32, 1909247024_i32, 839903908_i32, -853614674_i32, -1431568620_i32, -1094137269_i32, -1459046560_i32, 1800616853_i32, -896699057_i32, -645576165_i32, -1551777894_i32, -280382090_i32, 1550137610_i32, -980976713_i32, -315146775_i32, -1620481123_i32, -43468541_i32, 1600864064_i32, -1884645693_i32, -400550133_i32, -1740229576_i32, 522515269_i32, -1547366133_i32, 1349491319_i32, 60307100_i32, 1596409193_i32, 630522861_i32, -1340670570_i32, 2110237959_i32, 914549059_i32, -1538290194_i32, -918988644_i32, -1503214483_i32, 621828485_i32, 1489905982_i32, 1149858817_i32, 1325271122_i32, -284031137_i32, -933187248_i32, 841556104_i32, -1628932995_i32, 62888997_i32, 1178709420_i32, 1993837436_i32, -697143829_i32, 2115055918_i32, 478410243_i32, 1425675068_i32, -130361594_i32, 858497535_i32, -215088253_i32, -1346412550_i32, -1273711849_i32, -1271046999_i32, -760708243_i32, -464206657_i32, -1080357640_i32, -1397926801_i32, 1391132387_i32, -1910362959_i32, -309324531_i32, 2138307243_i32, -1272271866_i32, 796989592_i32, -1724142989_i32, -2121244175_i32, -1652769728_i32, 1017606302_i32, -1651719302_i32, 436858740_i32, -2095137827_i32, 583478870_i32, 67397969_i32, 2081504936_i32, -2043881760_i32, -1779424513_i32, -995607809_i32, -1814488279_i32, 1404507924_i32, 894524936_i32, 1906682778_i32, 887796954_i32, -828117152_i32, -1286866985_i32];
    let sample_i32_bound = vec![17_i32, 4_i32, 15_i32, 24_i32, 14_i32, 29_i32, 1_i32, 30_i32, 20_i32, 16_i32, 37_i32, 9_i32, 23_i32, 0_i32, 25_i32, 22_i32, 41_i32, 4_i32, 48_i32, 31_i32, 45_i32, 12_i32, 2_i32, 26_i32, 31_i32, 28_i32, 10_i32, 57_i32, 38_i32, 58_i32, 65_i32, 54_i32, 56_i32, 21_i32, 38_i32, 81_i32, 66_i32, 41_i32, 93_i32, 4_i32, 78_i32, 67_i32, 32_i32, 32_i32, 25_i32, 92_i32, 46_i32, 77_i32, 13_i32, 37_i32, 64_i32, 17_i32, 32_i32, 14_i32, 83_i32, 92_i32, 48_i32, 76_i32, 78_i32, 114_i32, 115_i32, 88_i32, 72_i32, 41_i32, 147_i32, 145_i32, 140_i32, 116_i32, 38_i32, 80_i32, 22_i32, 58_i32, 139_i32, 15_i32, 89_i32, 16_i32, 22_i32, 112_i32, 116_i32, 42_i32, 102_i32, 75_i32, 90_i32, 23_i32, 83_i32, 22_i32, 109_i32, 175_i32, 130_i32, 5_i32, 105_i32, 125_i32, 137_i32, 14_i32, 137_i32, 30_i32, 163_i32, 74_i32, 64_i32, 150_i32, 168_i32, 124_i32, 181_i32, 40_i32, 11_i32, 84_i32, 28_i32, 156_i32, 37_i32, 213_i32, 29_i32, 121_i32, 56_i32, 18_i32, 196_i32, 228_i32, 184_i32, 97_i32, 80_i32, 42_i32, 213_i32, 120_i32, 0_i32, 239_i32, 202_i32, 205_i32, 168_i32, 155_i32];
    let sample_i32_between_inclusive = vec![20_i32, 22_i32, 28_i32, 29_i32, 28_i32, 38_i32, 49_i32, 38_i32, 39_i32, 40_i32, 42_i32, 67_i32, 73_i32, 82_i32, 77_i32, 80_i32, 60_i32, 80_i32, 68_i32, 107_i32, 98_i32, 71_i32, 73_i32, 66_i32, 114_i32, 115_i32, 88_i32, 144_i32, 102_i32, 146_i32, 141_i32, 107_i32, 102_i32, 145_i32, 188_i32, 108_i32, 155_i32, 153_i32, 174_i32, 108_i32, 127_i32, 208_i32, 187_i32, 121_i32, 136_i32, 123_i32, 177_i32, 245_i32, 116_i32, 264_i32, 208_i32, 149_i32, 230_i32, 281_i32, 280_i32, 235_i32, 255_i32, 200_i32, 234_i32, 153_i32, 276_i32, 222_i32, 270_i32, 163_i32, 174_i32, 303_i32, 209_i32, 188_i32, 325_i32, 231_i32, 206_i32, 212_i32, 180_i32, 303_i32, 216_i32, 225_i32, 398_i32, 196_i32, 203_i32, 246_i32, 349_i32, 265_i32, 266_i32, 205_i32, 383_i32, 415_i32, 194_i32, 303_i32, 329_i32, 210_i32, 251_i32, 217_i32, 381_i32, 284_i32, 300_i32, 319_i32, 398_i32, 399_i32, 497_i32, 479_i32, 257_i32, 496_i32, 259_i32, 390_i32, 475_i32, 533_i32, 506_i32, 349_i32, 379_i32, 248_i32, 529_i32, 455_i32, 473_i32, 509_i32, 275_i32, 528_i32, 479_i32, 268_i32, 511_i32, 524_i32, 543_i32, 433_i32, 443_i32, 458_i32, 604_i32, 536_i32, 559_i32, 367_i32];
    let sample_i64 = vec![4951155655088781559_i64, 6472008178524887449_i64, 4162323969790177525_i64, -3062560490200839540_i64, -7511734038718427782_i64, -7310086029495953479_i64, -7655059750073983731_i64, -774167586009255026_i64, -8112225298098582031_i64, 1924352072038319102_i64, -320767481554123826_i64, -5892638202293589300_i64, -2424648634234100847_i64, -5600645405593448951_i64, -2614548674590312048_i64, -3756634138039458597_i64, -2824454480016318992_i64, -4174432248483214209_i64, -4089601342332503222_i64, 8926168632583170448_i64, -7533744261180777588_i64, -9067659689282545272_i64, 8490600501756600093_i64, 3995108603833956487_i64, -2329811908076912060_i64, -815702879014666413_i64, -382328149179018038_i64, 9124663013089115552_i64, 1593334263846488029_i64, 2575863546091418768_i64, -5815817694711499210_i64, 1462379570931733884_i64, -8100157481092953474_i64, -381853290471741196_i64, 2201997634055940077_i64, -121545414663069180_i64, 5443255923376470324_i64, -7787018308644363847_i64, 2785687836537850269_i64, -8425869410840858909_i64, -9029862517459153809_i64, -723522984127240677_i64, -7326971946758998378_i64, 174704873152456199_i64, 8904282375041977987_i64, -3202807278808810532_i64, -1856433367103695279_i64, 8480207031504196644_i64, -4171018565434428376_i64, 4616334162318275520_i64, -6758561019827192602_i64, 6286192652691012912_i64, 6225536072512767227_i64, -7906758492287400430_i64, -9162724798260864108_i64, 2296299243981635816_i64, -702226035358821381_i64, -2208689839338291426_i64, -4315437321729883843_i64, 5547209508858826570_i64, 3204634712142972940_i64, -6858039842621162571_i64, 4039798343440149223_i64, 8085703224568278297_i64, 547188848135517303_i64, -2188219554237254228_i64, -5157720486068902852_i64, -2442982962091571107_i64, 3577338189626392936_i64, -6372028024741814180_i64, 8139825731833673738_i64, -4116229291906523936_i64, 5860622195881862255_i64, -7794739961992375004_i64, 6617149141163176133_i64, 2995027421291325617_i64, 321748623212194048_i64, -2423182679865683997_i64, -272059544680093440_i64, 2220979964267688101_i64, -5859915088854562573_i64, 4132651571749600126_i64, -642063903603332104_i64, 7950066757479847121_i64, -1245453938210695932_i64, -4408624134196949408_i64, -665507367414209015_i64, 4514111661814232337_i64, -3758298275821392556_i64, -7321221744201320715_i64, 4158763519730804022_i64, -808048347755862651_i64, -7772036003917837850_i64, 703563127401912366_i64, 5172934075074931109_i64, 430880555213107982_i64, -882193035560955101_i64, 8070299631717570048_i64, -8311715344646420959_i64, -7829121728030197802_i64, 315335612221655639_i64, 5274547764174516708_i64, 94308526797410455_i64, 2628552430147715013_i64, -903132064135413199_i64, -4831874069603322023_i64, -6781337272743877991_i64, -4964702618154173172_i64, 7283566606453188423_i64, 1689583501374699614_i64, 2889813297256425950_i64, -4079844712413148002_i64, -1711425550750902128_i64, 8252194275619150328_i64, 7351888514827733184_i64, 4144587504224881330_i64, -6249286251813171224_i64, -7155693363883118414_i64, -6330662368817494340_i64, 767300001339275075_i64, 967536288997202575_i64, -138578306823688936_i64, -5130842293252337418_i64, 2037315741503122064_i64, 784117533665616298_i64, -3181987731120449477_i64, 8824170913631816370_i64, 4228686245712959900_i64];
    let sample_bool = vec![true, false, true, true, true, true, false, true, false, false, true, false, false, false, false, true, false, false, true, false, false, true, false, false, true, false, true, true, true, true, false, false, true, false, true, false, false, true, false, true, false, true, false, false, true, false, false, true, false, true, false, false, true, false, true, true, false, true, true, true, false, true, true, false, true, true, true, false, true, false, false, false, false, false, false, true, false, true, true, false, false, true, true, false, true, true, true, true, false, false, false, true, true, false, false, false, false, false, true, false, false, true, true, false, false, true, false, false, true, false, true, true, true, false, true, true, true, false, true, true, true, false, false, true, true, true, true, true];
    let sample_f32 = vec![0.7798628_f32, 0.8480571_f32, 0.7164496_f32, 0.59416264_f32, 0.7919388_f32, 0.34273618_f32, 0.06911731_f32, 0.43211764_f32, 0.4390921_f32, 0.4789669_f32, 0.75720614_f32, 0.015636802_f32, 0.78710955_f32, 0.49421555_f32, 0.83162874_f32, 0.55414176_f32, 0.45588452_f32, 0.63632154_f32, 0.37584496_f32, 0.13732237_f32, 0.5595897_f32, 0.25563288_f32, 0.76811147_f32, 0.7034155_f32, 0.22437501_f32, 0.18038577_f32, 0.76558614_f32, 0.19784135_f32, 0.81877065_f32, 0.48783422_f32, 0.16688454_f32, 0.24854773_f32, 0.7272766_f32, 0.8976213_f32, 0.7869992_f32, 0.45968795_f32, 0.03942001_f32, 0.11474913_f32, 0.36919755_f32, 0.22890711_f32, 0.2556712_f32, 0.18665957_f32, 0.14874333_f32, 0.51402867_f32, 0.5719928_f32, 0.10242462_f32, 0.6872973_f32, 0.6663995_f32, 0.4934981_f32, 0.6325276_f32, 0.50702864_f32, 0.78031176_f32, 0.1449387_f32, 0.60647804_f32, 0.99031496_f32, 0.7161136_f32, 0.34482223_f32, 0.16447008_f32, 0.073063195_f32, 0.28982902_f32, 0.14734077_f32, 0.8509892_f32, 0.87389857_f32, 0.10093349_f32, 0.441535_f32, 0.9858752_f32, 0.57263094_f32, 0.12459707_f32, 0.34291714_f32, 0.43563902_f32, 0.4125222_f32, 0.82306844_f32, 0.48496002_f32, 0.48922408_f32, 0.56308186_f32, 0.9464045_f32, 0.08536285_f32, 0.9329412_f32, 0.9826617_f32, 0.9745527_f32, 0.44690704_f32, 0.9246506_f32, 0.18039536_f32, 0.8955953_f32, 0.68020356_f32, 0.8337037_f32, 0.5405348_f32, 0.57911754_f32, 0.18403858_f32, 0.6776101_f32, 0.36261284_f32, 0.7651369_f32, 0.26977867_f32, 0.12639427_f32, 0.03986031_f32, 0.7894423_f32, 0.20398176_f32, 0.62931967_f32, 0.4758169_f32, 0.762748_f32, 0.50566685_f32, 0.054874957_f32, 0.38309985_f32, 0.4366396_f32, 0.16244006_f32, 0.22304893_f32, 0.054968357_f32, 0.3623368_f32, 0.3168118_f32, 0.8890083_f32, 0.4139036_f32, 0.88293415_f32, 0.16763008_f32, 0.5400016_f32, 0.064294636_f32, 0.71572787_f32, 0.28180128_f32, 0.863927_f32, 0.9789877_f32, 0.36384386_f32, 0.12168658_f32, 0.9004431_f32, 0.6805557_f32, 0.8466316_f32, 0.4701991_f32, 0.7962996_f32, 0.0144305825_f32, 0.522776_f32];
    let sample_f64 = vec![0.1382528282537404_f64, 0.1073969361340592_f64, 0.1305227319853196_f64, 0.9443830793917172_f64, 0.5412896254156779_f64, 0.34013092341553597_f64, 0.27140706325053876_f64, 0.41944301318320365_f64, 0.07221045613834498_f64, 0.11767329199639376_f64, 0.007688135031393206_f64, 0.567456174714226_f64, 0.7107676722549991_f64, 0.5219897795755133_f64, 0.524587127709555_f64, 0.4812597728785726_f64, 0.9496865905835158_f64, 0.8152954177399342_f64, 0.6508696754160743_f64, 0.6258952334167032_f64, 0.4538637977294807_f64, 0.14137878684502891_f64, 0.32580120046949246_f64, 0.21207310837104687_f64, 0.7820170960529428_f64, 0.6598078495229033_f64, 0.6949141694612644_f64, 0.3531816646987599_f64, 0.2519938198528048_f64, 0.5304059264932172_f64, 0.17604813156339394_f64, 0.9998881045130208_f64, 0.09051556159876006_f64, 0.9202696793438621_f64, 0.5998195858447175_f64, 0.22938925714278668_f64, 0.723956982901652_f64, 0.866733666636099_f64, 0.44762288450156107_f64, 0.45562671352931805_f64, 0.4388268174518789_f64, 0.3970687679186159_f64, 0.28545971506296663_f64, 0.5222884649158251_f64, 0.6689400159418093_f64, 0.7793346889202926_f64, 0.7233394617277387_f64, 0.4421777680375165_f64, 0.8508393137723184_f64, 0.15868949780322006_f64, 0.617688099599721_f64, 0.7545371780485716_f64, 0.12984582289837754_f64, 0.11959198001778659_f64, 0.7781488233776308_f64, 0.08617373320661503_f64, 0.19618793851196292_f64, 0.9067154038999484_f64, 0.1403527132765211_f64, 0.5227390689905443_f64, 0.18397820417122046_f64, 0.13602426930342093_f64, 0.22268308106292467_f64, 0.8232760371737798_f64, 0.8753785123407616_f64, 0.8323479179002596_f64, 0.697752554162183_f64, 0.34415107330173156_f64, 0.41811377510350856_f64, 0.5409184385619406_f64, 0.07825722232696519_f64, 0.7777498241863959_f64, 0.3865649340917733_f64, 0.07772248184523944_f64, 0.8420673191428514_f64, 0.4568207316013042_f64, 0.29499229503998436_f64, 0.20714968393059274_f64, 0.8028595953411911_f64, 0.027109544906066763_f64, 0.606010490347552_f64, 0.16530325990697115_f64, 0.17029146609022583_f64, 0.7489353157121598_f64, 0.86825677344848_f64, 0.4834710037700688_f64, 0.5376624169390561_f64, 0.5526165338155917_f64, 0.8642645335912754_f64, 0.008637740824217643_f64, 0.9852039434884875_f64, 0.2431633096596869_f64, 0.5528744848849266_f64, 0.366553262056337_f64, 0.5935835261059661_f64, 0.9264099956161448_f64, 0.15008573707130735_f64, 0.3677524228429623_f64, 0.9249048860069106_f64, 0.8117700120013273_f64, 0.90807019222016_f64, 0.018056857093785905_f64, 0.4474307130771812_f64, 0.036052468599299115_f64, 0.024143033945049464_f64, 0.8624708810457743_f64, 0.45545033981184924_f64, 0.048288299531899725_f64, 0.639802896173279_f64, 0.3650164463079002_f64, 0.7671597344035039_f64, 0.39727107512241067_f64, 0.07452588843502728_f64, 0.9069354461734476_f64, 0.37111641296263065_f64, 0.47152567064075224_f64, 0.2798171199972149_f64, 0.7718198835777572_f64, 0.23577747079657296_f64, 0.8556758581400031_f64, 0.9960946861880996_f64, 0.1786137128664923_f64, 0.6968241158507211_f64, 0.48768921186273506_f64, 0.24830039753855948_f64, 0.02206267830553743_f64, 0.19342122635487513_f64, 0.7282364617656055_f64];
    check_against_samples(
        LegacyRandom::new(SEED).fork().as_mut(),
        187,
        sample_i32.as_slice(),
        sample_i32_bound.as_slice(),
        sample_i32_between_inclusive.as_slice(),
        sample_i64.as_slice(),
        sample_bool.as_slice(),
        sample_f32.as_slice(),
        sample_f64.as_slice(),
    )
}

#[test]
fn legacy_fork_positional_hash_test() {
    let sample_i32 = vec![-1302120244_i32, 1963762650_i32, 1692187561_i32, 124419736_i32, 2073551454_i32, 1830093452_i32, -520491996_i32, -121223196_i32, -229783971_i32, -1625432118_i32, 1098895521_i32, -1031962833_i32, -728378427_i32, 85110084_i32, 1412809907_i32, -555994409_i32, -921449220_i32, -203788292_i32, 1339422358_i32, -1741226078_i32, 1735822627_i32, -2042184441_i32, 261562025_i32, -732928730_i32, 1621020335_i32, -194036076_i32, -1772766695_i32, 764705899_i32, 2052278071_i32, 265422125_i32, -737559330_i32, 1762063566_i32, 1895443599_i32, 324086077_i32, 1905323755_i32, 253328167_i32, -121800940_i32, -1331003183_i32, -1566218079_i32, -1738608850_i32, -1207929527_i32, -1148293726_i32, -547691900_i32, -1888351462_i32, -1268611934_i32, 1095173971_i32, 351587376_i32, 1974231434_i32, -487324768_i32, 53552630_i32, -1265475955_i32, 2058671529_i32, 1224724765_i32, -1369632556_i32, -733143743_i32, -306515572_i32, -568529688_i32, 1405408621_i32, -533103770_i32, 480689885_i32, 2137066900_i32, 1591904957_i32, -1820289156_i32, 1608189374_i32, 667303821_i32, -464452415_i32, -909819231_i32, -1029564953_i32, 140697963_i32, -1278886856_i32, 1299564287_i32, -549749232_i32, 1429508490_i32, 945483438_i32, -338747003_i32, -1811720810_i32, -835460902_i32, 1007499957_i32, -1838308647_i32, -2087584680_i32, 1903156978_i32, -138396555_i32, 127019916_i32, 1446868194_i32, -414330005_i32, 475131495_i32, 1560442767_i32, 1314110669_i32, 1056618603_i32, 1534906973_i32, -1327616795_i32, 1945618277_i32, 1809926784_i32, 1422206661_i32, 1059692953_i32, -805241204_i32, -1362050642_i32, 464366637_i32, 2104134898_i32, 1758948829_i32, 195921866_i32, 87342857_i32, -1228793882_i32, -414909420_i32, 273055753_i32, 1130547636_i32, -709689141_i32, -2049550676_i32, 1199485907_i32, -1967172940_i32, 544851540_i32, -1444121655_i32, -1767606051_i32, -1894634686_i32, 1086852538_i32, -599142824_i32, -1630772106_i32, 1462403592_i32, 252950585_i32, -973815692_i32, -761815009_i32, 45997612_i32, 129850301_i32, -352245_i32, -684559519_i32, -1374861683_i32, -1000795427_i32, 1865777601_i32];
    let sample_i32_bound = vec![5_i32, 11_i32, 20_i32, 15_i32, 1_i32, 22_i32, 5_i32, 27_i32, 34_i32, 8_i32, 32_i32, 7_i32, 35_i32, 33_i32, 5_i32, 48_i32, 35_i32, 31_i32, 24_i32, 52_i32, 6_i32, 35_i32, 9_i32, 49_i32, 66_i32, 23_i32, 68_i32, 37_i32, 4_i32, 22_i32, 71_i32, 56_i32, 81_i32, 13_i32, 84_i32, 24_i32, 33_i32, 83_i32, 55_i32, 8_i32, 79_i32, 43_i32, 53_i32, 16_i32, 26_i32, 73_i32, 33_i32, 95_i32, 107_i32, 103_i32, 35_i32, 114_i32, 119_i32, 90_i32, 14_i32, 17_i32, 82_i32, 85_i32, 54_i32, 129_i32, 60_i32, 98_i32, 60_i32, 91_i32, 127_i32, 49_i32, 47_i32, 37_i32, 93_i32, 78_i32, 15_i32, 86_i32, 34_i32, 142_i32, 41_i32, 53_i32, 155_i32, 136_i32, 115_i32, 95_i32, 175_i32, 98_i32, 106_i32, 13_i32, 187_i32, 130_i32, 122_i32, 113_i32, 42_i32, 97_i32, 153_i32, 180_i32, 70_i32, 138_i32, 80_i32, 121_i32, 66_i32, 153_i32, 7_i32, 19_i32, 69_i32, 133_i32, 188_i32, 199_i32, 84_i32, 226_i32, 8_i32, 139_i32, 128_i32, 66_i32, 238_i32, 58_i32, 195_i32, 21_i32, 145_i32, 150_i32, 129_i32, 66_i32, 23_i32, 3_i32, 70_i32, 123_i32, 73_i32, 0_i32, 19_i32, 94_i32, 184_i32, 33_i32];
    let sample_i32_between_inclusive = vec![20_i32, 24_i32, 27_i32, 28_i32, 30_i32, 43_i32, 50_i32, 38_i32, 43_i32, 39_i32, 62_i32, 46_i32, 74_i32, 67_i32, 77_i32, 57_i32, 76_i32, 67_i32, 102_i32, 100_i32, 89_i32, 67_i32, 129_i32, 120_i32, 98_i32, 74_i32, 80_i32, 145_i32, 133_i32, 124_i32, 113_i32, 99_i32, 126_i32, 106_i32, 189_i32, 104_i32, 176_i32, 143_i32, 105_i32, 183_i32, 124_i32, 223_i32, 200_i32, 186_i32, 120_i32, 131_i32, 134_i32, 167_i32, 253_i32, 153_i32, 207_i32, 183_i32, 149_i32, 185_i32, 189_i32, 169_i32, 222_i32, 246_i32, 139_i32, 310_i32, 292_i32, 164_i32, 177_i32, 312_i32, 221_i32, 268_i32, 179_i32, 180_i32, 177_i32, 283_i32, 309_i32, 241_i32, 368_i32, 321_i32, 172_i32, 172_i32, 232_i32, 348_i32, 396_i32, 286_i32, 288_i32, 281_i32, 353_i32, 259_i32, 239_i32, 394_i32, 220_i32, 408_i32, 323_i32, 395_i32, 398_i32, 287_i32, 228_i32, 472_i32, 448_i32, 339_i32, 311_i32, 255_i32, 366_i32, 315_i32, 500_i32, 348_i32, 336_i32, 364_i32, 282_i32, 292_i32, 267_i32, 259_i32, 347_i32, 444_i32, 385_i32, 483_i32, 353_i32, 547_i32, 567_i32, 582_i32, 254_i32, 259_i32, 544_i32, 380_i32, 497_i32, 330_i32, 335_i32, 626_i32, 311_i32, 604_i32, 497_i32, 364_i32];
    let sample_i64 = vec![-2868218362875769631_i64, 8833272988405687413_i64, 277916549291147887_i64, 3241354054277900690_i64, 3343092364187683063_i64, 3790143391112327831_i64, -1861670233937863808_i64, -704162435379506439_i64, 3838405233846978021_i64, -6008979982959466983_i64, -7827163840009979501_i64, -3419878303280137309_i64, 1804643450282666639_i64, -1487013695377414600_i64, 4765922915180837054_i64, 790341429330120780_i64, -3527375193366468256_i64, 2832119831691967312_i64, 1640870107873473757_i64, -3694736555441058542_i64, -8065929865507361596_i64, -36913980557766812_i64, -9042279513257083376_i64, 3651613144480876028_i64, -3783993577906596948_i64, 3677487270859570842_i64, -2667135167764570824_i64, 6612939219968704367_i64, -8979782788410458611_i64, 6034586963823458237_i64, -4499729907802986370_i64, -2038167761911163206_i64, 3081721534789003617_i64, 6760157368807091386_i64, 8040055865003157453_i64, 3053802037165062796_i64, 3514886298240933156_i64, -5634735936875080925_i64, -2176482355567081133_i64, 5607140589581218680_i64, 6665430932945905496_i64, -6249486946648542033_i64, 3046883762301478404_i64, -1454276588911117192_i64, -98950804979881726_i64, -2178274489943912520_i64, -1890904071016245737_i64, -7536269887443375257_i64, -4088993714363239766_i64, 7282022759464650683_i64, -1285743983481105017_i64, 7908034275737577862_i64, -4651555933357936417_i64, 629886302411892187_i64, -1602891580687271789_i64, 6715297184002145272_i64, 9180090653579307185_i64, -4990593838207309473_i64, 4848378099996815422_i64, -9170846880574530491_i64, 4273609799362167861_i64, -918391129056614352_i64, 7837836622853103311_i64, 7553652286771011803_i64, -6174975743273373947_i64, 3467012572610314076_i64, 871029177564626002_i64, 5365111893948413320_i64, 2021237280097829565_i64, 3511026824450413462_i64, -3067699662798042346_i64, -3175908421979544575_i64, 5392854816240665471_i64, -6558691122403745357_i64, 7291635404123593774_i64, -2978563312688337825_i64, -7398085820444955536_i64, 2653426954346520366_i64, 6918447381142266864_i64, 877667222908644765_i64, 8374496825061362745_i64, -7970902057282016603_i64, 8998530601590480504_i64, -305156110719246821_i64, -9114879265194987130_i64, 8344970870081424473_i64, -2117863168700431322_i64, 7906501288759350302_i64, 2317571750565848970_i64, -8554054917211289934_i64, 8007314115570912796_i64, -1716859811434226099_i64, 8959181057410859642_i64, 7985318558559073977_i64, 1461201747116640961_i64, 7543462282082298934_i64, 2694782542926429197_i64, 5385156173486425245_i64, 8300555793840046656_i64, -1344513822682855737_i64, -6592391965301563389_i64, 7285039589261845551_i64, 4924430859288226570_i64, 7418048290335299797_i64, 827172226752612507_i64, -2636937724117588635_i64, -1740798941331919280_i64, 6736641718364702616_i64, -3095640852156077286_i64, -56753732843612966_i64, -5856825419349361527_i64, -1794272938816758995_i64, -5120185924639361973_i64, 8840605999953701964_i64, 797715098889040370_i64, -7994621060927588589_i64, 5145235046948435194_i64, 660474217130693405_i64, -2710843554784097527_i64, -9106377927144250706_i64, 4091726286858509944_i64, 7866171747273780947_i64, 7672274104984348946_i64, 7552654953406030280_i64, 6889215592631176986_i64, 5802360896354108313_i64, -5849498795684452718_i64, -3657297599450489589_i64];
    let sample_bool = vec![false, true, true, false, false, false, true, true, true, true, false, true, false, true, false, false, true, true, true, true, true, true, true, true, false, false, true, true, true, true, false, true, true, true, true, true, true, true, false, true, false, true, true, false, false, false, false, false, true, true, true, true, true, false, true, true, false, true, true, true, false, false, true, true, false, false, true, true, false, false, true, false, true, true, true, false, false, true, true, true, true, true, false, true, false, false, false, true, false, false, true, true, false, true, true, false, false, false, false, false, false, false, false, true, true, false, false, true, false, false, false, true, true, true, true, true, true, true, false, false, false, true, false, false, true, true, false, false];
    let sample_f32 = vec![0.5697275_f32, 0.6450232_f32, 0.88714755_f32, 0.57538354_f32, 0.759864_f32, 0.3186885_f32, 0.60360277_f32, 0.24209559_f32, 0.99848926_f32, 0.611542_f32, 0.79559314_f32, 0.26123577_f32, 0.57435584_f32, 0.18492353_f32, 0.71303093_f32, 0.63633126_f32, 0.5673744_f32, 0.20891738_f32, 0.95089376_f32, 0.96737546_f32, 0.6922682_f32, 0.6735651_f32, 0.84767175_f32, 0.43388313_f32, 0.5185314_f32, 0.19042832_f32, 0.20459336_f32, 0.65260106_f32, 0.7827391_f32, 0.59322053_f32, 0.08974266_f32, 0.6483356_f32, 0.65612507_f32, 0.3405677_f32, 0.89882445_f32, 0.59180045_f32, 0.19724405_f32, 0.8705064_f32, 0.6365579_f32, 0.512071_f32, 0.49885315_f32, 0.6248139_f32, 0.7596828_f32, 0.20444936_f32, 0.7503839_f32, 0.6870371_f32, 0.037662446_f32, 0.23921007_f32, 0.18116999_f32, 0.6121236_f32, 0.09681237_f32, 0.68535006_f32, 0.55170304_f32, 0.58446306_f32, 0.42734098_f32, 0.63926786_f32, 0.025490284_f32, 0.05713898_f32, 0.16335773_f32, 0.2750417_f32, 0.21559423_f32, 0.29613298_f32, 0.35909748_f32, 0.1850735_f32, 0.36877662_f32, 0.09258026_f32, 0.44938475_f32, 0.6723552_f32, 0.7656055_f32, 0.39305812_f32, 0.22077495_f32, 0.19416231_f32, 0.79429835_f32, 0.8270186_f32, 0.75706756_f32, 0.7878731_f32, 0.9449713_f32, 0.44220573_f32, 0.23730391_f32, 0.36976504_f32, 0.39298248_f32, 0.26920432_f32, 0.13738382_f32, 0.76459473_f32, 0.44694787_f32, 0.26675385_f32, 0.7526374_f32, 0.06568301_f32, 0.058658242_f32, 0.40734786_f32, 0.15575606_f32, 0.95089614_f32, 0.7865419_f32, 0.07078689_f32, 0.8232531_f32, 0.28875107_f32, 0.107632995_f32, 0.9602319_f32, 0.49802214_f32, 0.3009116_f32, 0.14947712_f32, 0.645017_f32, 0.15267038_f32, 0.6332547_f32, 0.70541614_f32, 0.7867562_f32, 0.6283135_f32, 0.49875575_f32, 0.5747542_f32, 0.6054652_f32, 0.049753845_f32, 0.05358231_f32, 0.68204427_f32, 0.1914944_f32, 0.06686425_f32, 0.9555416_f32, 0.25391352_f32, 0.6336386_f32, 0.40314192_f32, 0.6245567_f32, 0.32233995_f32, 0.3960694_f32, 0.86847085_f32, 0.7119395_f32, 0.5631226_f32, 0.9845925_f32, 0.6299617_f32, 0.21330523_f32];
    let sample_f64 = vec![0.6285729744975146_f64, 0.05126604727003936_f64, 0.6834628449136806_f64, 0.17906102973505933_f64, 0.3703726072077843_f64, 0.050667013477552314_f64, 0.31030285493476684_f64, 0.4473072135334686_f64, 0.960374034263647_f64, 0.754802638379769_f64, 0.0043995344638390055_f64, 0.9020763725140653_f64, 0.8239646052830448_f64, 0.31542014807482766_f64, 0.19537844855015818_f64, 0.7938726772294142_f64, 0.46762772148397247_f64, 0.722216412307008_f64, 0.7125017399506248_f64, 0.09009044416365197_f64, 0.8927659988123179_f64, 0.07873521569975295_f64, 0.9881396530509913_f64, 0.16425156414160857_f64, 0.35051708416845617_f64, 0.6244162818458483_f64, 0.7561198893868406_f64, 0.3346202750950389_f64, 0.6879594888217614_f64, 0.8100779054215825_f64, 0.15013670596760287_f64, 0.5619187345579846_f64, 0.6972371860366054_f64, 0.15305951308479226_f64, 0.5966594626591343_f64, 0.4879360206539186_f64, 0.9465161245439038_f64, 0.17344698143453108_f64, 0.7922879155073327_f64, 0.5251448005334661_f64, 0.5453172604132146_f64, 0.4442472468752834_f64, 0.35725993746470797_f64, 0.8920086027062896_f64, 0.1766543629135784_f64, 0.676075936131219_f64, 0.46482439564771016_f64, 0.32948494119276794_f64, 0.5145372480272843_f64, 0.8008651407281009_f64, 0.8604505605337084_f64, 0.7312976417907667_f64, 0.8377841884517089_f64, 0.21929535557113355_f64, 0.20535234444385242_f64, 0.07387391395687248_f64, 0.24971972988808455_f64, 0.7331001297387307_f64, 0.6055644554314872_f64, 0.8414110220965112_f64, 0.4182172618700747_f64, 0.19608701270902518_f64, 0.5208143042011039_f64, 0.6073578607569088_f64, 0.16167849365503462_f64, 0.5866648751122409_f64, 0.9866923584427952_f64, 0.5556673011407615_f64, 0.5239243525775386_f64, 0.02986131842105655_f64, 0.2291305925694943_f64, 0.5034951213498641_f64, 0.20460534817239662_f64, 0.2782609212405156_f64, 0.3019570542478446_f64, 0.42159217974523966_f64, 0.3416215673132481_f64, 0.2989890041325931_f64, 0.33630214204537157_f64, 0.5394562132155983_f64, 0.6781759104953979_f64, 0.9078117946262495_f64, 0.35488992955217047_f64, 0.869380251635993_f64, 0.08946627991000644_f64, 0.8416185841290648_f64, 0.3747560486954926_f64, 0.38685516779784845_f64, 0.29265607693632323_f64, 0.26699746048732753_f64, 0.6986908132377762_f64, 0.16435347923394472_f64, 0.31864428186390237_f64, 0.4853105831124972_f64, 0.8787149856325438_f64, 0.4713428817575941_f64, 0.9852900887217085_f64, 0.5136212734784448_f64, 0.8241523498341385_f64, 0.22544726478342625_f64, 0.17912915557094455_f64, 0.2960199206229499_f64, 0.9223719385195673_f64, 0.20799393539399336_f64, 0.226251717524663_f64, 0.5313407415060437_f64, 0.8420301717341057_f64, 0.14175588376092818_f64, 0.01289551656666077_f64, 0.4909578774717145_f64, 0.8966510535538126_f64, 0.06951820000293041_f64, 0.8024395485186749_f64, 0.744293172018198_f64, 0.46064018400848894_f64, 0.46916805285379815_f64, 0.8878668211556004_f64, 0.4098644621108045_f64, 0.9503366289021992_f64, 0.1943282914476151_f64, 0.31739789366751003_f64, 0.40614778051584_f64, 0.3094640409798669_f64, 0.63912415358196_f64, 0.9358794379207671_f64, 0.18922275854778248_f64, 0.7713505408500071_f64, 0.49149431837114477_f64];
    check_against_samples(
        LegacyRandom::new(SEED).fork_positional().with_hash_of("ghgPls 4er Kaktus ghgPls").as_mut(),
        187,
        sample_i32.as_slice(),
        sample_i32_bound.as_slice(),
        sample_i32_between_inclusive.as_slice(),
        sample_i64.as_slice(),
        sample_bool.as_slice(),
        sample_f32.as_slice(),
        sample_f64.as_slice(),
    )
}

#[test]
fn legacy_fork_positional_at_test() {
    let sample_i32 = vec![1528497294_i32, -1563161450_i32, -933552933_i32, -343612139_i32, -30450580_i32, -178080034_i32, 1486032810_i32, 1609847302_i32, 1210317721_i32, -1168596995_i32, -377542616_i32, 1837492868_i32, -730692466_i32, 1552918706_i32, 576802109_i32, -675952305_i32, -76993280_i32, 652064521_i32, -1773924557_i32, 1720400467_i32, -1546023104_i32, 1540601325_i32, 1851552189_i32, 23811681_i32, -2003259933_i32, 1672772097_i32, -1724919238_i32, 231548450_i32, 864619941_i32, 1496620975_i32, 742092346_i32, 1605704_i32, -669906550_i32, 219264640_i32, -2052108736_i32, 198711045_i32, 1333118278_i32, -627028562_i32, 1554421961_i32, -1510315840_i32, -458661410_i32, 1901442551_i32, -597454451_i32, 1331988486_i32, 1634293902_i32, 843812019_i32, 850774276_i32, 1255468734_i32, 360587245_i32, 1778934824_i32, 1997881387_i32, 1447284896_i32, -373063858_i32, -1749410531_i32, 1466270855_i32, -791568152_i32, 751252585_i32, 12830124_i32, -1526724502_i32, 1781251910_i32, -1124479173_i32, -79031972_i32, 1356151668_i32, 1247445015_i32, -1095309270_i32, -242827666_i32, 73934684_i32, -1066728486_i32, -921168789_i32, 56392823_i32, -1218407184_i32, -694513188_i32, -1512555352_i32, 287975470_i32, 313261402_i32, -2100270538_i32, -1933362724_i32, -1418366841_i32, 1390791588_i32, -1785838855_i32, 1955060865_i32, -68011776_i32, -1606176131_i32, -2024872793_i32, 1468056045_i32, -286438086_i32, 1925913148_i32, 130914788_i32, 1969921017_i32, 896940490_i32, -765400283_i32, -483891604_i32, -515584285_i32, -1039311279_i32, -745195541_i32, -914736825_i32, 1728285045_i32, 274238665_i32, 539004022_i32, -1784050117_i32, -980894874_i32, 1571932705_i32, 757130470_i32, 1526411906_i32, -1060401665_i32, 1233716236_i32, -981430058_i32, 1036001469_i32, -194231551_i32, -1966419946_i32, 349275876_i32, -1787779032_i32, -93545019_i32, 1074497528_i32, 2055990385_i32, 754340622_i32, 983775909_i32, 743921452_i32, 927389093_i32, 2080981118_i32, 161946_i32, 394071490_i32, -647069259_i32, 832365886_i32, -1758340826_i32, -1078801292_i32, 225154920_i32, 1453549567_i32];
    let sample_i32_bound = vec![10_i32, 10_i32, 11_i32, 17_i32, 22_i32, 10_i32, 3_i32, 21_i32, 34_i32, 24_i32, 37_i32, 23_i32, 2_i32, 44_i32, 39_i32, 23_i32, 4_i32, 32_i32, 23_i32, 54_i32, 26_i32, 49_i32, 31_i32, 28_i32, 14_i32, 18_i32, 40_i32, 39_i32, 22_i32, 19_i32, 8_i32, 45_i32, 59_i32, 1_i32, 10_i32, 88_i32, 40_i32, 91_i32, 15_i32, 66_i32, 19_i32, 93_i32, 40_i32, 37_i32, 91_i32, 39_i32, 36_i32, 0_i32, 22_i32, 80_i32, 15_i32, 11_i32, 39_i32, 92_i32, 45_i32, 3_i32, 45_i32, 23_i32, 16_i32, 86_i32, 10_i32, 105_i32, 7_i32, 140_i32, 130_i32, 131_i32, 108_i32, 90_i32, 112_i32, 76_i32, 120_i32, 5_i32, 35_i32, 144_i32, 166_i32, 47_i32, 71_i32, 91_i32, 174_i32, 173_i32, 175_i32, 22_i32, 180_i32, 109_i32, 95_i32, 133_i32, 48_i32, 117_i32, 95_i32, 146_i32, 54_i32, 191_i32, 195_i32, 78_i32, 165_i32, 186_i32, 63_i32, 159_i32, 101_i32, 11_i32, 90_i32, 156_i32, 185_i32, 66_i32, 146_i32, 80_i32, 61_i32, 198_i32, 74_i32, 74_i32, 25_i32, 154_i32, 101_i32, 151_i32, 130_i32, 47_i32, 208_i32, 9_i32, 11_i32, 139_i32, 11_i32, 97_i32, 150_i32, 129_i32, 14_i32, 8_i32, 182_i32, 227_i32];
    let sample_i32_between_inclusive = vec![20_i32, 23_i32, 24_i32, 29_i32, 34_i32, 40_i32, 37_i32, 43_i32, 45_i32, 50_i32, 42_i32, 61_i32, 60_i32, 47_i32, 61_i32, 83_i32, 68_i32, 56_i32, 56_i32, 60_i32, 118_i32, 85_i32, 82_i32, 67_i32, 90_i32, 129_i32, 105_i32, 107_i32, 139_i32, 104_i32, 170_i32, 107_i32, 138_i32, 108_i32, 162_i32, 189_i32, 179_i32, 204_i32, 129_i32, 108_i32, 133_i32, 184_i32, 195_i32, 231_i32, 111_i32, 165_i32, 199_i32, 242_i32, 123_i32, 192_i32, 173_i32, 150_i32, 143_i32, 234_i32, 230_i32, 133_i32, 291_i32, 200_i32, 248_i32, 300_i32, 276_i32, 188_i32, 241_i32, 164_i32, 312_i32, 156_i32, 202_i32, 258_i32, 358_i32, 342_i32, 236_i32, 269_i32, 170_i32, 209_i32, 187_i32, 206_i32, 393_i32, 332_i32, 302_i32, 186_i32, 225_i32, 293_i32, 418_i32, 224_i32, 288_i32, 290_i32, 419_i32, 358_i32, 215_i32, 320_i32, 334_i32, 287_i32, 256_i32, 252_i32, 337_i32, 439_i32, 411_i32, 359_i32, 454_i32, 484_i32, 227_i32, 336_i32, 276_i32, 295_i32, 405_i32, 362_i32, 397_i32, 429_i32, 315_i32, 305_i32, 335_i32, 285_i32, 452_i32, 343_i32, 340_i32, 337_i32, 466_i32, 572_i32, 599_i32, 405_i32, 582_i32, 553_i32, 359_i32, 375_i32, 599_i32, 283_i32, 318_i32, 428_i32];
    let sample_i64 = vec![-2514632109930158580_i64, 1056327690225876914_i64, 4578352363741254212_i64, 818543351863188058_i64, -5361909067307884257_i64, 7119132812493734407_i64, 1145756722870318227_i64, 5036680672000246127_i64, 8687131622057594724_i64, -5304231109681374215_i64, -2450804740680905545_i64, 4188826699910816108_i64, 6203518839237049572_i64, -9116527604563703575_i64, 2912353781206891408_i64, 6721612073905391387_i64, -3468202574259449095_i64, 6223461138411328428_i64, 3348422713633063059_i64, -4114498010189016582_i64, 174231583394229972_i64, -8551543591840067318_i64, -1060942509586745268_i64, -5043761208404420932_i64, -2392129356589807625_i64, -331887955548526016_i64, -3521984267402581290_i64, -9112381766767603256_i64, -457255494169352517_i64, 8998811912308324223_i64, -8513184450635158939_i64, 7927676994402609592_i64, -8166500718703629620_i64, 6954517167018011242_i64, -1752068599072390724_i64, -1558611302134136356_i64, 6481003327404351912_i64, 4931631831435200668_i64, 278120186099430071_i64, -8188690214594192203_i64, -950022139195364061_i64, -3849370259838437856_i64, -3243274742914775869_i64, -3666463659803472262_i64, 7353752566576232933_i64, -725821720107790345_i64, 6126595133173162849_i64, 6817946795666390934_i64, -1762397690660583958_i64, 2798032197599549078_i64, 7862989483025419431_i64, -3807479154884886745_i64, -7648285786195298559_i64, 4351929370550904933_i64, 6770389603533967294_i64, -8056610563273169535_i64, 8384855698721898830_i64, 3853807640553475137_i64, 8588953947055807333_i64, 3316588274651137706_i64, -959993620603445815_i64, -4036270422833673222_i64, -7556454400927261588_i64, 1029830239539377371_i64, -7875939793662881603_i64, -3939068510873313578_i64, -4481882748450853830_i64, -7266080317721062651_i64, -9185267387649900471_i64, -1194618588887456756_i64, 3819328303995227976_i64, 1132537550502524745_i64, 4174823500989111010_i64, 7306226623945043274_i64, 1085347081044984740_i64, -9081647121620296321_i64, -5385086616759661105_i64, -1440179522987550416_i64, -3150662430075543697_i64, 7450673401965881776_i64, -3322630188886881364_i64, -4502459887165440557_i64, -2496704186502824097_i64, 6707700168642247324_i64, 4511413133017785064_i64, 6426256647038755643_i64, -49588506008435394_i64, 5527205366150220853_i64, 7828361164398273607_i64, -68144702923960860_i64, -8384455372221962647_i64, 2305228701485378082_i64, -7490313974544590496_i64, -2270204486754707135_i64, 2138606969359256145_i64, 1478274445456454205_i64, 7550718574515063583_i64, -7599464473811082700_i64, -8610723111713949443_i64, 7622835621343848214_i64, 3579967777050662981_i64, 4267062705643946392_i64, -7001336024925365881_i64, -7778254839000411539_i64, 6706212028122618851_i64, 5140969972318131896_i64, 8987313673777315995_i64, 6220790435086776251_i64, 2945577945146434531_i64, -981003201533337132_i64, 8139980102358306555_i64, 2774487094768801450_i64, 7953606322039781247_i64, -7895810091986932061_i64, -6730131052069003267_i64, 473854062600158617_i64, -3178089796817687096_i64, -8763086052703039796_i64, 1508319712288458763_i64, -8188513887978247143_i64, 8156134149996139552_i64, -8575646126170119060_i64, -4983562107477662942_i64, 4122483378457576818_i64, -6820317342105623360_i64, -1796873744569041773_i64, -2276533384600292524_i64, 3140635515845595935_i64];
    let sample_bool = vec![false, false, true, false, false, true, true, false, false, true, false, false, false, true, false, true, true, false, false, true, false, false, false, true, true, true, true, true, false, false, false, true, true, true, false, false, true, true, true, false, false, true, false, false, false, true, false, false, false, false, false, true, true, true, false, false, false, true, true, false, false, true, false, false, true, true, true, true, true, true, true, true, false, true, false, false, false, false, false, true, true, false, true, true, false, false, false, true, true, false, false, true, false, true, false, true, false, true, false, true, true, false, false, false, true, false, true, true, true, true, false, true, false, false, true, true, false, false, true, false, false, false, false, false, true, true, false, true];
    let sample_f32 = vec![0.012036264_f32, 0.6709817_f32, 0.17613119_f32, 0.41201746_f32, 0.70879924_f32, 0.018927872_f32, 0.5953848_f32, 0.900199_f32, 0.031868517_f32, 0.8858609_f32, 0.9922015_f32, 0.023474395_f32, 0.58850527_f32, 0.020853162_f32, 0.9209427_f32, 0.15060729_f32, 0.30356377_f32, 0.17066872_f32, 0.613652_f32, 0.42880756_f32, 0.26005214_f32, 0.9330876_f32, 0.9090938_f32, 0.79625165_f32, 0.15548038_f32, 0.075300395_f32, 0.097061515_f32, 0.37766814_f32, 0.5455166_f32, 0.43848485_f32, 0.28509557_f32, 0.5216729_f32, 0.40258932_f32, 0.32502168_f32, 0.9370513_f32, 0.04272741_f32, 0.24970847_f32, 0.92522985_f32, 0.716727_f32, 0.24846554_f32, 0.3727367_f32, 0.9689956_f32, 0.24284929_f32, 0.2805096_f32, 0.3920225_f32, 0.545383_f32, 0.8875934_f32, 0.59272283_f32, 0.951759_f32, 0.4094897_f32, 0.15860003_f32, 0.9071918_f32, 0.018316448_f32, 0.15784335_f32, 0.33884948_f32, 0.3002931_f32, 0.46340036_f32, 0.29702508_f32, 0.03013438_f32, 0.70729536_f32, 0.3311262_f32, 0.4285894_f32, 0.6802018_f32, 0.82552665_f32, 0.6775191_f32, 0.8284837_f32, 0.46251857_f32, 0.32776535_f32, 0.7446941_f32, 0.4909374_f32, 0.42827678_f32, 0.3568886_f32, 0.7488597_f32, 0.94320047_f32, 0.3355506_f32, 0.3007558_f32, 0.8707007_f32, 0.6046903_f32, 0.16891861_f32, 0.8867586_f32, 0.42870688_f32, 0.27632338_f32, 0.048475385_f32, 0.18550658_f32, 0.37125343_f32, 0.19543374_f32, 0.95970756_f32, 0.37293297_f32, 0.46302515_f32, 0.4992324_f32, 0.7505405_f32, 0.22301906_f32, 0.07760054_f32, 0.50386816_f32, 0.8899649_f32, 0.6457901_f32, 0.6932293_f32, 0.85356736_f32, 0.080616415_f32, 0.95680964_f32, 0.7662023_f32, 0.8299483_f32, 0.49773794_f32, 0.47777635_f32, 0.009517014_f32, 0.26842022_f32, 0.98695767_f32, 0.98883706_f32, 0.5082051_f32, 0.017735064_f32, 0.306736_f32, 0.15081406_f32, 0.9717366_f32, 0.43950778_f32, 0.52727985_f32, 0.4117732_f32, 0.56403_f32, 0.39424658_f32, 0.09091258_f32, 0.932428_f32, 0.6090508_f32, 0.6446467_f32, 0.15968359_f32, 0.4871053_f32, 0.3816982_f32, 0.8492293_f32, 0.6003678_f32, 0.10283387_f32];
    let sample_f64 = vec![0.6371961961926645_f64, 0.926553500043279_f64, 0.3756831604637445_f64, 0.3894702727038558_f64, 0.09092727366775055_f64, 0.10641468536417575_f64, 0.8124911137350775_f64, 0.0765749752081446_f64, 0.15927449960536266_f64, 0.36283056091900745_f64, 0.309836782972328_f64, 0.8344394127222533_f64, 0.8325318813923243_f64, 0.15477559656969575_f64, 0.16819440131712926_f64, 0.16141796337296765_f64, 0.8224317252122398_f64, 0.18952035684635327_f64, 0.9966689136361861_f64, 0.0157399300021136_f64, 0.10075136659601336_f64, 0.9969162539388947_f64, 0.8695459527144351_f64, 0.20865390137025575_f64, 0.3166361962709827_f64, 0.2830698482485642_f64, 0.5555432597176182_f64, 0.546947600511053_f64, 0.2992128336597554_f64, 0.5817473797964605_f64, 0.19870033290831368_f64, 0.591328460081861_f64, 0.8296047378023103_f64, 0.8634526246773561_f64, 0.1980070412761662_f64, 0.05437743691314478_f64, 0.8752518532183607_f64, 0.18497172877204537_f64, 0.932286367859927_f64, 0.8002646605516537_f64, 0.5194751871228329_f64, 0.16628135470019312_f64, 0.40750989078216204_f64, 0.12814204254784178_f64, 0.8905157891998773_f64, 0.06706689166558932_f64, 0.8656391843520015_f64, 0.5221049545566874_f64, 0.49681715456246756_f64, 0.5017000470617767_f64, 0.8872503590870314_f64, 0.33284127720650103_f64, 0.5091087170290359_f64, 0.37937603386972674_f64, 0.5446125326681736_f64, 0.9195626606307619_f64, 0.6948875570693002_f64, 0.48521233708920175_f64, 0.717555921810509_f64, 0.6255397066523222_f64, 0.9071840626795429_f64, 0.22846279163195982_f64, 0.7713781746518513_f64, 0.5865392069970949_f64, 0.25703691468827217_f64, 0.4756019862332058_f64, 0.41420309918594256_f64, 0.7786877453106749_f64, 0.3578912002934008_f64, 0.05888661276921814_f64, 0.7006182442432599_f64, 0.9007633683712095_f64, 0.3201729251660046_f64, 0.5051021290899351_f64, 0.8290836951825528_f64, 0.6556428225145957_f64, 0.49558235411886276_f64, 0.7645546533587781_f64, 0.5925168638476621_f64, 0.7466086724192661_f64, 0.3231871651071049_f64, 0.23696904601372049_f64, 0.08462338896621657_f64, 0.43644724914223176_f64, 0.013186005232297515_f64, 0.1888067330849995_f64, 0.538957422822322_f64, 0.8307452298881705_f64, 0.2192517235069117_f64, 0.7356171223251556_f64, 0.9833592135088596_f64, 0.14151818370843572_f64, 0.2966529923333775_f64, 0.9233892894024986_f64, 0.7293316598741719_f64, 0.06328243986417104_f64, 0.22089150432731597_f64, 0.08447106279761596_f64, 0.5840817744284184_f64, 0.05090685903502923_f64, 0.7503817231457065_f64, 0.5664749449539241_f64, 0.07236675449007435_f64, 0.727058548504791_f64, 0.9567386835656455_f64, 0.13669165734806077_f64, 0.8859488258258434_f64, 0.866782699529938_f64, 0.8175285292501047_f64, 0.8498834570396028_f64, 0.2403767852584754_f64, 0.40773343074442514_f64, 0.1688756758814436_f64, 0.9339312634728036_f64, 0.8119761977621344_f64, 0.7167988718015245_f64, 0.949109543629765_f64, 0.2956608945452178_f64, 0.45234472295144035_f64, 0.907340893693412_f64, 0.3296725374375815_f64, 0.5782754429151269_f64, 0.9333123717669135_f64, 0.3459953531237404_f64, 0.025800454129464967_f64, 0.31217265466259525_f64, 0.5622412789729636_f64, 0.613956714768717_f64];
    check_against_samples(
        LegacyRandom::new(SEED).fork_positional().at(-9764542, 65245, 62458234).as_mut(),
        187,
        sample_i32.as_slice(),
        sample_i32_bound.as_slice(),
        sample_i32_between_inclusive.as_slice(),
        sample_i64.as_slice(),
        sample_bool.as_slice(),
        sample_f32.as_slice(),
        sample_f64.as_slice(),
    )
}

#[test]
fn xoroshiro_test() {
    let sample_i32 = vec![-194900403_i32, -1167478520_i32, 2029271476_i32, 1172474529_i32, 918791927_i32, -1824100695_i32, -1683224499_i32, -1543244096_i32, 718561122_i32, -457561942_i32, 1027945467_i32, 1989982505_i32, 309341567_i32, -1053605733_i32, 1025716279_i32, 777955590_i32, -540808818_i32, -1076962138_i32, 235846949_i32, 637594412_i32, 1017788424_i32, -209852950_i32, 1823944390_i32, -881968225_i32, 1972620270_i32, 1842085944_i32, -888322184_i32, -2004272438_i32, 928709208_i32, -1816638236_i32, -360573341_i32, 313365373_i32, -1453853466_i32, 47191234_i32, 413970435_i32, -249152327_i32, 869819109_i32, 1397547294_i32, 1493032175_i32, -1888468050_i32, 66057972_i32, 196061624_i32, 1940301039_i32, -433403295_i32, -2062634816_i32, -564938141_i32, 1968002899_i32, -1475393322_i32, 1067860753_i32, 105771809_i32, -305909211_i32, 1153733159_i32, -233204780_i32, -1210757776_i32, 207846205_i32, 627437303_i32, 452840565_i32, -1189061029_i32, 1104938421_i32, 1980702696_i32, -991054400_i32, -591970083_i32, 168970618_i32, -1362778955_i32, 1692860991_i32, 1570176511_i32, -1590295146_i32, 1002881778_i32, -203731195_i32, -1424177999_i32, 365899996_i32, -1845613877_i32, 432303250_i32, 861325058_i32, 905666924_i32, 72520833_i32, -592866286_i32, 129196878_i32, -1127389876_i32, 1525618505_i32, -224731629_i32, -1327019014_i32, -1561692411_i32, -1486883069_i32, 1538252370_i32, -1574131828_i32, -2056675726_i32, -1357206534_i32, 196506497_i32, 1051788531_i32, 2064647762_i32, 2133719122_i32, -847068577_i32, -1739931794_i32, 800831572_i32, 57891095_i32, -579774437_i32, -115575514_i32, -1436846285_i32, -119288322_i32, -171377221_i32, -2106207097_i32, -1562380956_i32, 433113169_i32, 1267113503_i32, 413519024_i32, 1885371228_i32, -302311668_i32, -1223782426_i32, -595875582_i32, -1967997786_i32, -2026494549_i32, 108168268_i32, 2116404284_i32, 2138460231_i32, -2118740886_i32, 798722475_i32, -823502566_i32, 1889073236_i32, -1185296237_i32, -1425246228_i32, 1770758060_i32, 1706636614_i32, 1491264774_i32, -1321471781_i32, 31742017_i32, -1123120704_i32, -553769895_i32];
    let sample_i32_bound = vec![6_i32, 11_i32, 22_i32, 5_i32, 27_i32, 3_i32, 3_i32, 26_i32, 16_i32, 1_i32, 34_i32, 26_i32, 43_i32, 10_i32, 15_i32, 42_i32, 40_i32, 25_i32, 46_i32, 9_i32, 18_i32, 32_i32, 54_i32, 42_i32, 14_i32, 32_i32, 37_i32, 47_i32, 57_i32, 42_i32, 65_i32, 31_i32, 45_i32, 46_i32, 71_i32, 10_i32, 86_i32, 18_i32, 59_i32, 13_i32, 40_i32, 80_i32, 70_i32, 61_i32, 5_i32, 28_i32, 43_i32, 70_i32, 77_i32, 5_i32, 60_i32, 100_i32, 20_i32, 36_i32, 17_i32, 33_i32, 62_i32, 30_i32, 128_i32, 5_i32, 2_i32, 46_i32, 78_i32, 8_i32, 98_i32, 81_i32, 100_i32, 97_i32, 120_i32, 60_i32, 61_i32, 108_i32, 94_i32, 42_i32, 62_i32, 117_i32, 96_i32, 149_i32, 97_i32, 1_i32, 65_i32, 76_i32, 26_i32, 84_i32, 72_i32, 51_i32, 52_i32, 171_i32, 127_i32, 125_i32, 69_i32, 184_i32, 126_i32, 204_i32, 144_i32, 209_i32, 25_i32, 26_i32, 178_i32, 1_i32, 108_i32, 182_i32, 142_i32, 59_i32, 178_i32, 35_i32, 101_i32, 146_i32, 184_i32, 83_i32, 158_i32, 170_i32, 202_i32, 23_i32, 38_i32, 105_i32, 10_i32, 215_i32, 208_i32, 179_i32, 48_i32, 123_i32, 166_i32, 113_i32, 164_i32, 99_i32, 17_i32, 123_i32];
    let sample_i32_between_inclusive = vec![20_i32, 22_i32, 28_i32, 30_i32, 36_i32, 34_i32, 32_i32, 55_i32, 46_i32, 63_i32, 56_i32, 53_i32, 60_i32, 61_i32, 84_i32, 65_i32, 68_i32, 84_i32, 56_i32, 63_i32, 103_i32, 107_i32, 104_i32, 74_i32, 107_i32, 72_i32, 83_i32, 138_i32, 93_i32, 136_i32, 170_i32, 100_i32, 84_i32, 141_i32, 170_i32, 122_i32, 96_i32, 100_i32, 159_i32, 202_i32, 205_i32, 171_i32, 130_i32, 171_i32, 151_i32, 111_i32, 129_i32, 164_i32, 216_i32, 238_i32, 228_i32, 219_i32, 182_i32, 212_i32, 247_i32, 169_i32, 210_i32, 222_i32, 241_i32, 227_i32, 267_i32, 316_i32, 244_i32, 329_i32, 273_i32, 160_i32, 278_i32, 200_i32, 324_i32, 339_i32, 164_i32, 349_i32, 251_i32, 198_i32, 328_i32, 170_i32, 292_i32, 372_i32, 183_i32, 270_i32, 369_i32, 199_i32, 359_i32, 260_i32, 370_i32, 305_i32, 200_i32, 452_i32, 261_i32, 365_i32, 320_i32, 240_i32, 255_i32, 328_i32, 224_i32, 308_i32, 480_i32, 361_i32, 430_i32, 375_i32, 370_i32, 515_i32, 491_i32, 307_i32, 293_i32, 437_i32, 343_i32, 249_i32, 309_i32, 548_i32, 395_i32, 392_i32, 396_i32, 258_i32, 274_i32, 395_i32, 385_i32, 293_i32, 493_i32, 346_i32, 523_i32, 438_i32, 269_i32, 582_i32, 603_i32, 443_i32, 325_i32, 278_i32];
    let sample_i64 = vec![7196717260109486928_i64, 418587998678469632_i64, 5992482809846740187_i64, 3029667695355447255_i64, 6397081918176507009_i64, -5722919649972703064_i64, 5518194515924484019_i64, -3798049961736682032_i64, -487819409653503365_i64, 5000212397751673191_i64, 253767766398246994_i64, -7541477508739569784_i64, 2764234556550654994_i64, 8034421758530915652_i64, 3183155846712118305_i64, 1744476302608427439_i64, 4444427518069701348_i64, 4344587670948762471_i64, 4476354714175232143_i64, 9135817703856905263_i64, 2568488009964117868_i64, -3034154481277146370_i64, -2804204142548602909_i64, -7402943965639647676_i64, 5338833143065089152_i64, 5635361227442941864_i64, 2508952564905694900_i64, -8376795208067490090_i64, 7631611510087189097_i64, -5104032932117303787_i64, 2308443735926843133_i64, 2168411085382346386_i64, 1678710568106062087_i64, 7030402670326029010_i64, 1683570454782770280_i64, 406344945808001358_i64, 2208018716879938307_i64, 3038950155870795099_i64, 146755551747551822_i64, 1895239280512274578_i64, -3528604289696698066_i64, -8319577186630483257_i64, -8383778053270085314_i64, -7755193165664804564_i64, 2824244432507371304_i64, -4811196564722002187_i64, -123907477725409879_i64, 6504041971939695031_i64, -2634559410640471763_i64, 121466785423631062_i64, 629123228302905959_i64, 4799178966309705284_i64, 1266395510833563371_i64, -8073126435101040408_i64, 1846162549316925429_i64, -4706605160384273636_i64, 643326101900540408_i64, 9139519659497218972_i64, -2450691826396279683_i64, -3515040843779848794_i64, -6070978269113736480_i64, 827895340548985884_i64, -3821994415319288825_i64, 3108260350084280613_i64, -3015298767710153220_i64, 8434713045348589866_i64, 2736177794745902767_i64, -1392281634139308202_i64, -8010137650811139610_i64, 3953998643099206123_i64, -2694197555559251104_i64, -6780849283183349676_i64, 4310082061936935656_i64, -1220667345097194935_i64, 2311901913196873988_i64, 1368252834622443697_i64, 4067894498181869518_i64, -3656998686842263348_i64, -5607855060278359948_i64, 4972672128715545678_i64, 2495215696153668576_i64, -1413059625849584269_i64, 3912188096356762557_i64, -4262414755016867503_i64, 8404200343704687575_i64, -6590858452416005786_i64, -3383478918524655013_i64, -4127963308868564838_i64, -3507169926103846894_i64, -2541595593228372944_i64, 2430038657387003166_i64, -4701926714796443314_i64, -2758108058494649911_i64, 5197046059157743712_i64, 1967860130147229872_i64, 941635464696992253_i64, -6204567030816651552_i64, -5820987672868517375_i64, 6675207248111538453_i64, 5919257169713723566_i64, -2426447179010981848_i64, 331830256226749769_i64, 8913687460816065995_i64, 3502652042760489871_i64, 7976871649396887515_i64, -7649170735427149735_i64, 917759377735471486_i64, -6335254815472833907_i64, -5889075824367816924_i64, 3124359735009285915_i64, -1313807504497673133_i64, 4451903242717284576_i64, -2487532055968230245_i64, 1312207434405631425_i64, 983940346576826002_i64, -528932258592209020_i64, -1866982053817180769_i64, 7587035222438252527_i64, 2106910925541156528_i64, 8386032021025903225_i64, -8932319750467836497_i64, 1459089609635373266_i64, 2034050633607137695_i64, -8509776451794395710_i64, -5223780647859868000_i64, -7278549835533037089_i64, -3725612235904167552_i64, 6286610081860640794_i64];
    let sample_bool = vec![false, true, false, true, true, true, false, false, true, false, true, true, true, true, false, true, false, true, true, true, false, false, false, true, true, false, true, false, true, false, true, true, true, false, true, false, true, false, false, true, true, false, true, true, false, true, true, false, true, true, true, true, false, false, false, true, true, false, true, true, true, false, true, true, true, false, false, true, true, false, true, false, false, false, true, false, false, true, false, false, false, true, false, false, true, false, false, false, true, false, true, true, true, true, false, true, false, false, false, false, false, false, true, false, false, true, false, false, true, false, true, true, false, true, false, true, true, true, false, true, true, false, false, false, false, false, true, true];
    let sample_f32 = vec![0.045071363_f32, 0.9453939_f32, 0.7843873_f32, 0.6963477_f32, 0.4764958_f32, 0.5218743_f32, 0.60742754_f32, 0.66119736_f32, 0.9801644_f32, 0.937257_f32, 0.8734161_f32, 0.7884781_f32, 0.9433591_f32, 0.4420129_f32, 0.7484733_f32, 0.81704676_f32, 0.16500968_f32, 0.9520647_f32, 0.7401129_f32, 0.9297398_f32, 0.54063445_f32, 0.60850424_f32, 0.5080416_f32, 0.5119121_f32, 0.75909525_f32, 0.10906112_f32, 0.15479964_f32, 0.7996814_f32, 0.795128_f32, 0.4235174_f32, 0.9373693_f32, 0.72164965_f32, 0.69657874_f32, 0.6005571_f32, 0.8321174_f32, 0.4091758_f32, 0.35261673_f32, 0.5732114_f32, 0.16966885_f32, 0.41375548_f32, 0.59198827_f32, 0.4007824_f32, 0.25242078_f32, 0.9545014_f32, 0.45388973_f32, 0.547285_f32, 0.07858622_f32, 0.12144804_f32, 0.5551904_f32, 0.37741423_f32, 0.49998516_f32, 0.30697823_f32, 0.14904839_f32, 0.016940057_f32, 0.23033136_f32, 0.8549675_f32, 0.7979354_f32, 0.56729925_f32, 0.33688772_f32, 0.32943577_f32, 0.30577892_f32, 0.47281343_f32, 0.09208715_f32, 0.81673086_f32, 0.5915215_f32, 0.5266169_f32, 0.36253983_f32, 0.62004703_f32, 0.2381103_f32, 0.7482385_f32, 0.035175145_f32, 0.17405385_f32, 0.31952077_f32, 0.8648808_f32, 0.19018453_f32, 0.12768215_f32, 0.15080434_f32, 0.4689659_f32, 0.53587765_f32, 0.5982451_f32, 0.064179_f32, 0.31680006_f32, 0.645365_f32, 0.7276207_f32, 0.9919768_f32, 0.5114015_f32, 0.07210106_f32, 0.66121703_f32, 0.6585789_f32, 0.74621344_f32, 0.1690098_f32, 0.02588284_f32, 0.23081642_f32, 0.61199945_f32, 0.32485366_f32, 0.41679037_f32, 0.026693285_f32, 0.032224476_f32, 0.003747344_f32, 0.5602078_f32, 0.35127002_f32, 0.86480176_f32, 0.47196406_f32, 0.5684923_f32, 0.7043776_f32, 0.28924686_f32, 0.979162_f32, 0.33228523_f32, 0.17052954_f32, 0.05316317_f32, 0.8954942_f32, 0.5264241_f32, 0.11568415_f32, 0.24811989_f32, 0.8775725_f32, 0.88454807_f32, 0.46490115_f32, 0.82528573_f32, 0.1056242_f32, 0.5444412_f32, 0.6346484_f32, 0.63475883_f32, 0.19142336_f32, 0.40768224_f32, 0.8943203_f32, 0.96896493_f32, 0.012269139_f32, 0.09686214_f32];
    let sample_f64 = vec![0.3780542424325847_f64, 0.31977363940681514_f64, 0.719228433498034_f64, 0.11385052058453515_f64, 0.31274496789778194_f64, 0.5423759958763419_f64, 0.3763710971009647_f64, 0.2918608550133305_f64, 0.5801397056940775_f64, 0.6810448434734333_f64, 0.5761032111624941_f64, 0.5756993989287195_f64, 0.3103174781462885_f64, 0.37997681365910074_f64, 0.3650817388107964_f64, 0.908063792060015_f64, 0.2077167381620616_f64, 0.44742404057434526_f64, 0.6322176108207544_f64, 0.0420643766517147_f64, 0.7096900726674615_f64, 0.2814237216779002_f64, 0.5986474799263126_f64, 0.6606498376646018_f64, 0.1695591059746263_f64, 0.18076688493883997_f64, 0.9002494331359274_f64, 0.4429658357002222_f64, 0.10377982366069749_f64, 0.45162249925252396_f64, 0.6581431635851621_f64, 0.6568081549230869_f64, 0.7084838188793198_f64, 0.6664329683245154_f64, 0.9252229352112915_f64, 0.5062212705126412_f64, 0.4185377971507257_f64, 0.24506780643210402_f64, 0.6091242099455556_f64, 0.5282416383297548_f64, 0.6362066991839157_f64, 0.6548331753428832_f64, 0.9627994856613186_f64, 0.48559407244136144_f64, 0.7723592718653332_f64, 0.8391753498306432_f64, 0.28580242997371763_f64, 0.9170779279771452_f64, 0.19649776534649843_f64, 0.8464908419182215_f64, 0.2801446808689355_f64, 0.4462892790775519_f64, 0.8603726015194564_f64, 0.9959971123285765_f64, 0.8769087422042425_f64, 0.27413553187729556_f64, 0.9587652499055931_f64, 0.5850022607023987_f64, 0.26108797722780464_f64, 0.3113251278243645_f64, 0.15001448149788166_f64, 0.23659869228122055_f64, 0.10177461862170567_f64, 0.8836835422524238_f64, 0.4735646709448077_f64, 0.5504357587265861_f64, 0.17820256950471036_f64, 0.44172856329077337_f64, 0.5216971597258221_f64, 0.37662747966505117_f64, 0.340589969089484_f64, 0.1991139131870412_f64, 0.6648172990878024_f64, 0.002381292839545801_f64, 0.4932316031617422_f64, 0.6742248717717861_f64, 0.027373744090885_f64, 0.8015635244895873_f64, 0.19214883721853337_f64, 0.4659207375527443_f64, 0.05454583610496122_f64, 0.09848691119457864_f64, 0.10832400421877897_f64, 0.20668503597550902_f64, 0.6676161291626789_f64, 0.17922335708738524_f64, 0.6297812836328917_f64, 0.5995736423366076_f64, 0.40744155057972276_f64, 0.9843977367194426_f64, 0.13643540907890084_f64, 9.715798334450909E-4_f64, 0.6347819997896806_f64, 0.44776845940676824_f64, 0.6463514003133787_f64, 0.15949839810716127_f64, 0.5479545773600467_f64, 0.8926438946524397_f64, 0.7197532847532452_f64, 0.05979767853650886_f64, 0.7814716389491322_f64, 0.3100387318027733_f64, 0.2761237761889672_f64, 0.08389922984961162_f64, 0.40669937700349124_f64, 0.2822291536608159_f64, 0.4747307373339563_f64, 0.023790101818413234_f64, 0.5127168486915141_f64, 0.19847919369447753_f64, 0.5933529484062221_f64, 0.8241158993495796_f64, 0.13905525677762942_f64, 0.7992501003063691_f64, 0.31305647563393424_f64, 0.8369337709349037_f64, 0.21470806646806206_f64, 0.4224039068654011_f64, 0.11230098500335517_f64, 0.8794717626948376_f64, 0.4400010294431148_f64, 0.805484090083401_f64, 0.05481451278671989_f64, 0.8742388147498472_f64, 0.47622806908817306_f64, 0.3951457909049656_f64, 0.2667903540703582_f64, 0.2570630767834583_f64];
    check_against_samples(
        XoroshiroRandom::new(SEED).as_mut(),
        187,
        sample_i32.as_slice(),
        sample_i32_bound.as_slice(),
        sample_i32_between_inclusive.as_slice(),
        sample_i64.as_slice(),
        sample_bool.as_slice(),
        sample_f32.as_slice(),
        sample_f64.as_slice(),
    )
}

#[test]
fn xoroshiro_fork_test() {
    let sample_i32 = vec![1386807874_i32, 444351632_i32, 1990564190_i32, -1458522384_i32, 881667734_i32, 363739911_i32, -1249235180_i32, -2145700266_i32, 1959921256_i32, -1307413057_i32, 1445014473_i32, 1016601572_i32, -484378210_i32, 21309274_i32, 61119468_i32, -1343652085_i32, 846371707_i32, 1911798205_i32, -1650840592_i32, 1078267030_i32, -1069087342_i32, 618026673_i32, 775978738_i32, 1850155272_i32, -111494994_i32, -925913304_i32, 875307279_i32, -783642526_i32, -1468663552_i32, 2048286240_i32, -1153239370_i32, -2017373903_i32, -834601822_i32, 624397674_i32, -1038126230_i32, -1091235115_i32, 1918550209_i32, 1003453687_i32, 1750830509_i32, -812069581_i32, 108210581_i32, -1538026601_i32, -61954921_i32, 810125638_i32, 329353429_i32, -1108293118_i32, -1285645162_i32, 1933175223_i32, -579223241_i32, 255038847_i32, -167398062_i32, -235692221_i32, -1377164939_i32, 694875279_i32, 1008104570_i32, -1758719988_i32, 679469774_i32, -1563988627_i32, -748873938_i32, -1711734186_i32, 890403899_i32, 423737953_i32, 1261800776_i32, 1218288949_i32, -191464540_i32, 530215299_i32, -549674354_i32, -907278586_i32, -1130281468_i32, -716032352_i32, 1760727492_i32, 1737640890_i32, 1286719888_i32, -2102823772_i32, 527950899_i32, 2029502545_i32, 485423681_i32, 148645693_i32, 859154230_i32, -784323029_i32, -403183856_i32, 934122807_i32, 1935744399_i32, -298554689_i32, -150346865_i32, 2029762748_i32, 1637448535_i32, 946508263_i32, 1278007294_i32, -1899205961_i32, -1854674106_i32, 361329477_i32, 368531027_i32, -523064057_i32, 1565475441_i32, 117186425_i32, 1355153902_i32, -60422005_i32, -593268165_i32, 378916725_i32, -1657807199_i32, -2073291511_i32, -818801156_i32, -1476377983_i32, -921668026_i32, 2007857910_i32, -2109932763_i32, 557802837_i32, 418164118_i32, 219548706_i32, 1558478664_i32, -1320584960_i32, 852339709_i32, 885248242_i32, -587902383_i32, 813810593_i32, 2048667286_i32, 303811960_i32, -2065306309_i32, 201204847_i32, -2057904665_i32, 508289088_i32, -634724197_i32, -447833435_i32, 1336639211_i32, 2146955657_i32, 1758715037_i32, 1185879460_i32];
    let sample_i32_bound = vec![5_i32, 10_i32, 21_i32, 19_i32, 18_i32, 20_i32, 15_i32, 10_i32, 18_i32, 1_i32, 0_i32, 2_i32, 33_i32, 1_i32, 46_i32, 47_i32, 50_i32, 41_i32, 49_i32, 39_i32, 46_i32, 39_i32, 49_i32, 23_i32, 47_i32, 3_i32, 67_i32, 15_i32, 4_i32, 11_i32, 15_i32, 72_i32, 51_i32, 38_i32, 4_i32, 12_i32, 48_i32, 50_i32, 30_i32, 6_i32, 82_i32, 32_i32, 29_i32, 73_i32, 17_i32, 41_i32, 13_i32, 12_i32, 29_i32, 111_i32, 57_i32, 66_i32, 122_i32, 45_i32, 96_i32, 101_i32, 65_i32, 133_i32, 82_i32, 40_i32, 76_i32, 30_i32, 33_i32, 79_i32, 100_i32, 11_i32, 101_i32, 120_i32, 91_i32, 110_i32, 132_i32, 61_i32, 6_i32, 17_i32, 44_i32, 104_i32, 96_i32, 84_i32, 120_i32, 99_i32, 44_i32, 125_i32, 139_i32, 1_i32, 7_i32, 45_i32, 79_i32, 118_i32, 140_i32, 72_i32, 26_i32, 144_i32, 11_i32, 117_i32, 170_i32, 189_i32, 15_i32, 111_i32, 58_i32, 69_i32, 147_i32, 141_i32, 117_i32, 61_i32, 40_i32, 50_i32, 74_i32, 25_i32, 104_i32, 87_i32, 166_i32, 71_i32, 138_i32, 164_i32, 25_i32, 184_i32, 177_i32, 32_i32, 128_i32, 128_i32, 239_i32, 139_i32, 44_i32, 258_i32, 58_i32, 260_i32, 33_i32, 99_i32];
    let sample_i32_between_inclusive = vec![20_i32, 22_i32, 25_i32, 32_i32, 40_i32, 35_i32, 48_i32, 41_i32, 38_i32, 65_i32, 59_i32, 71_i32, 46_i32, 70_i32, 56_i32, 68_i32, 100_i32, 101_i32, 100_i32, 92_i32, 99_i32, 111_i32, 85_i32, 83_i32, 78_i32, 84_i32, 77_i32, 127_i32, 83_i32, 106_i32, 127_i32, 123_i32, 118_i32, 182_i32, 137_i32, 164_i32, 114_i32, 107_i32, 188_i32, 132_i32, 108_i32, 164_i32, 131_i32, 150_i32, 181_i32, 160_i32, 129_i32, 157_i32, 234_i32, 261_i32, 135_i32, 244_i32, 178_i32, 257_i32, 273_i32, 177_i32, 176_i32, 241_i32, 181_i32, 196_i32, 156_i32, 284_i32, 210_i32, 281_i32, 214_i32, 192_i32, 343_i32, 303_i32, 334_i32, 251_i32, 312_i32, 197_i32, 170_i32, 364_i32, 179_i32, 249_i32, 314_i32, 393_i32, 184_i32, 303_i32, 282_i32, 229_i32, 188_i32, 307_i32, 304_i32, 367_i32, 442_i32, 276_i32, 229_i32, 303_i32, 454_i32, 352_i32, 346_i32, 236_i32, 361_i32, 290_i32, 457_i32, 263_i32, 463_i32, 226_i32, 473_i32, 238_i32, 265_i32, 482_i32, 472_i32, 539_i32, 269_i32, 407_i32, 239_i32, 464_i32, 484_i32, 357_i32, 577_i32, 274_i32, 477_i32, 434_i32, 450_i32, 508_i32, 573_i32, 412_i32, 550_i32, 368_i32, 378_i32, 345_i32, 570_i32, 403_i32, 333_i32, 391_i32];
    let sample_i64 = vec![-7977832943604852642_i64, -1501638890243360548_i64, 6769347050767081141_i64, 8635788886225623223_i64, -2695736141642790592_i64, 2812725354632088164_i64, 128129810415608342_i64, 2999515040139023029_i64, 321286936050562554_i64, -156393461014640725_i64, 160620517590767665_i64, 1212102144593866597_i64, -2539489072240970797_i64, -605310583347786120_i64, 3428111468219467678_i64, -8693098623437122856_i64, -6515536963823594700_i64, 2813073730360956829_i64, 8612785951497224027_i64, 4098164993129365930_i64, -4301119571648260877_i64, 5879024102513322790_i64, 2365896808716052965_i64, 7196485190836231947_i64, 3642927568524918468_i64, -6415557914463114610_i64, -8340047676787581903_i64, -123887733012416905_i64, -7790015399206569334_i64, -9142629911131182839_i64, 1348788916826822730_i64, 4909078420476830140_i64, 269210294290368505_i64, 1303086050283587836_i64, -6595744183164546761_i64, 9134926381160264220_i64, 7199463760487226761_i64, -7799222810935920884_i64, -8519701788460237555_i64, -5844015545361584563_i64, -7819166499110372296_i64, 4732724685801156129_i64, 8767691360421649300_i64, 3487170295015726826_i64, -8287772404099979333_i64, -5151827750837664077_i64, -3005786380908700404_i64, 4014048903364259556_i64, 8721456752831087469_i64, -3175496975272902497_i64, -3646953317688944444_i64, -8609433914684098895_i64, -6061296030080574915_i64, 1747043404618709971_i64, -5870338669130300683_i64, 373803783528579436_i64, -1214957050137751822_i64, 8236776919566760291_i64, -702130799053663156_i64, 7025463879830046082_i64, 8907878476817329389_i64, -8311940070067306026_i64, 4881590671692012365_i64, 8075805075321827153_i64, 8353548999072386775_i64, 1859614185711520839_i64, -4891550157142066534_i64, -2473487110435113633_i64, 4900402435758581090_i64, 4798817275832025184_i64, -3081088925791388077_i64, 2481171331842199535_i64, 3187547907736094185_i64, 8993284640750691772_i64, 5351032443873474610_i64, 1183984728630556732_i64, -4855706028674841003_i64, -9016426638709424237_i64, 1538221541503596706_i64, 3311150681030739555_i64, -5341498195194416462_i64, -282610335893600405_i64, 3627149146507345886_i64, 1865611274390958738_i64, 389165243475292197_i64, -8028198066620156221_i64, 2936980684608150215_i64, 1557138297157231485_i64, 135109363154690406_i64, 1575479624220443079_i64, 7107013483351352917_i64, 6650655717705051373_i64, 7519124578701282519_i64, 3746873294046310136_i64, 4952745707649103442_i64, -5027856949730478130_i64, 2547689124863697737_i64, -6623772641683596313_i64, 1815836814554754472_i64, -8481257529541011667_i64, 2162926596919894323_i64, 6059122089539483503_i64, 7653581921258827758_i64, -3430860593387748036_i64, 5089515727900468638_i64, 4876057180285271775_i64, 7755542803720885840_i64, -9151967406138252885_i64, 3010745996238983555_i64, 2704063016864272695_i64, 2725263899689202812_i64, -6616078485715027510_i64, -5354125724163311382_i64, 697576657167330122_i64, 3396876910587438233_i64, 2600696227603006858_i64, 5985266976249377264_i64, 4560446704618547556_i64, 5108585328009580478_i64, 4609997769232539748_i64, -5091574934559892539_i64, 169448663460383138_i64, 7145215167806178153_i64, 2997618135209097747_i64, 1873817847232490593_i64, 7365669325569628640_i64, -602678479201022795_i64, 3068541447905708433_i64];
    let sample_bool = vec![true, true, false, false, false, true, true, true, true, false, true, false, false, false, true, true, true, true, false, true, false, true, false, false, true, false, false, true, false, true, false, false, false, true, true, true, true, false, true, true, false, true, true, false, false, false, true, true, false, true, true, true, false, false, true, true, true, false, false, true, true, true, false, true, true, true, true, true, true, false, true, true, false, false, true, false, true, true, false, false, false, false, true, true, false, false, true, false, true, false, false, false, true, false, true, true, false, true, true, true, true, true, true, false, true, true, false, true, true, true, true, true, false, true, false, false, true, false, false, false, true, true, true, false, true, false, true, true];
    let sample_f32 = vec![0.06675136_f32, 0.7904486_f32, 0.8224251_f32, 0.3608058_f32, 0.52982515_f32, 0.28863692_f32, 0.31947213_f32, 0.38959515_f32, 0.7593663_f32, 0.053931534_f32, 0.4257325_f32, 0.12644815_f32, 0.31810755_f32, 0.76163703_f32, 0.7937158_f32, 0.26205558_f32, 0.35798717_f32, 0.6337964_f32, 0.10738087_f32, 0.3438787_f32, 0.465702_f32, 0.1424799_f32, 0.30941784_f32, 0.09406561_f32, 0.62146246_f32, 0.45469624_f32, 0.9607953_f32, 0.7291417_f32, 0.28406137_f32, 0.3428222_f32, 0.99118596_f32, 0.6352167_f32, 0.055270255_f32, 0.0011435747_f32, 0.9777583_f32, 0.50143987_f32, 0.10111147_f32, 0.32241803_f32, 0.21441436_f32, 0.9922282_f32, 0.68849134_f32, 0.81402504_f32, 0.6641438_f32, 0.12214345_f32, 0.050727546_f32, 0.31502438_f32, 0.9037492_f32, 0.007511139_f32, 0.17347068_f32, 0.8047873_f32, 0.19234252_f32, 0.08210379_f32, 0.4963901_f32, 0.44179845_f32, 0.6414837_f32, 0.052340627_f32, 0.85929775_f32, 0.815916_f32, 0.3010158_f32, 0.50243413_f32, 0.97595286_f32, 0.023809731_f32, 0.79250443_f32, 0.46943915_f32, 0.011020899_f32, 0.44993967_f32, 0.7832462_f32, 0.5023241_f32, 0.5216797_f32, 0.10591751_f32, 0.6450831_f32, 0.99337864_f32, 0.51104015_f32, 0.34217405_f32, 0.5786967_f32, 0.48033673_f32, 0.89095026_f32, 0.8046047_f32, 0.78972393_f32, 0.6496973_f32, 0.38617182_f32, 0.04802358_f32, 0.55463654_f32, 0.68721896_f32, 0.23956591_f32, 0.7101682_f32, 0.3795085_f32, 0.9556615_f32, 0.32883948_f32, 0.9345505_f32, 0.53545773_f32, 0.724753_f32, 0.836279_f32, 0.7033733_f32, 0.1296581_f32, 0.28570276_f32, 0.5122879_f32, 0.29241782_f32, 0.71377486_f32, 0.72720873_f32, 0.45124084_f32, 0.99189276_f32, 0.570371_f32, 0.37869233_f32, 0.6992343_f32, 0.5020551_f32, 0.21268928_f32, 0.19786942_f32, 0.6824263_f32, 0.057790935_f32, 0.732155_f32, 0.540941_f32, 0.17541021_f32, 0.33348948_f32, 0.17636138_f32, 0.70205784_f32, 0.36728495_f32, 0.91125596_f32, 0.76598966_f32, 0.73674875_f32, 0.67808867_f32, 0.15516806_f32, 0.09404582_f32, 0.80881435_f32, 0.7728212_f32, 0.22541326_f32, 0.101240516_f32, 0.9430847_f32];
    let sample_f64 = vec![0.6390132948310325_f64, 0.31067289255137576_f64, 0.10462832957673884_f64, 0.7099834598045714_f64, 0.2846262278138343_f64, 0.8614054519327332_f64, 0.38002790018059096_f64, 0.22938998683005207_f64, 0.0672153799795574_f64, 0.7032570488175983_f64, 0.6027272147195781_f64, 0.5339663134212085_f64, 0.6073464616126856_f64, 0.1975891945797097_f64, 0.671988820020856_f64, 0.7756191623601827_f64, 0.11150980818701661_f64, 0.6257265222458196_f64, 0.30179717944620754_f64, 0.15778038391151206_f64, 0.2605708381423444_f64, 0.10967046631363442_f64, 0.45832356198556223_f64, 0.5939227505896741_f64, 0.8782371889979602_f64, 0.6003821614832481_f64, 0.6014410399145403_f64, 0.5052624910779092_f64, 0.6647982421832245_f64, 0.3379571059636689_f64, 0.8476651205320002_f64, 0.10292931151103246_f64, 0.087075261551678_f64, 0.1831793178848744_f64, 0.49897123591027825_f64, 0.7392952424133191_f64, 0.6911102567710882_f64, 0.7740138888012505_f64, 0.35569697333827877_f64, 0.7275803717817244_f64, 0.34661622666036007_f64, 0.7144139393026164_f64, 0.9926848240892775_f64, 0.7107773982742057_f64, 0.6082541317622213_f64, 0.2880943007555202_f64, 0.5165701090385612_f64, 0.06595385880294324_f64, 0.12864931132412805_f64, 0.31974236757343444_f64, 0.11897044256669709_f64, 0.3890564123979807_f64, 0.6063148850869639_f64, 0.3677130323178681_f64, 0.5547737925648805_f64, 0.2512972667864072_f64, 0.6962526563815454_f64, 0.318852795566704_f64, 0.5465766506021307_f64, 0.6365301413608692_f64, 0.8897387885707315_f64, 0.5626063267872514_f64, 0.24719020754616394_f64, 0.5763144006810882_f64, 0.3002026082044892_f64, 0.5452917465719376_f64, 0.8975062062657244_f64, 0.2668143051644004_f64, 0.16797146001322782_f64, 0.9789215489163037_f64, 0.20659685470178224_f64, 0.7493472346904029_f64, 0.5283237629910239_f64, 0.845561599033571_f64, 0.43839196823495596_f64, 0.4865707093558136_f64, 0.6815825098954281_f64, 0.3890015919264861_f64, 0.8123892406058341_f64, 0.10467870838351634_f64, 0.3944057115452909_f64, 0.2948482505171378_f64, 0.5271983661084141_f64, 0.5250997374046329_f64, 0.8238620521274096_f64, 0.05328091989968431_f64, 0.4359206044474274_f64, 0.5232423834292661_f64, 0.9300930641328401_f64, 0.5479680588822488_f64, 0.24565566917897874_f64, 0.5842969637873129_f64, 0.8944448062862616_f64, 0.07785970047951984_f64, 0.17378637831034383_f64, 0.028498025350470635_f64, 0.8743346501403912_f64, 0.35300671587994936_f64, 0.7760187703862506_f64, 0.16084010863603304_f64, 0.6718475020552002_f64, 0.1816415377759717_f64, 0.6574277451912107_f64, 0.039804971376868226_f64, 0.3498583360712003_f64, 0.4960057642488095_f64, 0.11812651745007463_f64, 0.010100325929006115_f64, 0.851736770743081_f64, 0.012067251721541994_f64, 0.6374133820040194_f64, 0.7032844214883279_f64, 0.028496062251689325_f64, 0.47217757513075465_f64, 0.9383067837379531_f64, 0.2656701103763741_f64, 0.6538497336428686_f64, 0.21540962665414665_f64, 0.43160513345469265_f64, 0.4371604987949954_f64, 0.07537626536752051_f64, 0.6574491469887241_f64, 0.8465289661137785_f64, 0.9174587295774189_f64, 0.07452054095413363_f64, 0.50103711385056_f64, 0.6312636235794544_f64, 0.6837551397867122_f64];
    check_against_samples(
        XoroshiroRandom::new(SEED).fork().as_mut(),
        187,
        sample_i32.as_slice(),
        sample_i32_bound.as_slice(),
        sample_i32_between_inclusive.as_slice(),
        sample_i64.as_slice(),
        sample_bool.as_slice(),
        sample_f32.as_slice(),
        sample_f64.as_slice(),
    )
}

#[test]
fn xoroshiro_fork_positional_hash_test() {
    let sample_i32 = vec![-1652286416_i32, 890082645_i32, 1208643039_i32, 2145037047_i32, -2090073045_i32, -662377974_i32, 1775145440_i32, -134078181_i32, 623322482_i32, -1552994130_i32, -2078913510_i32, -229104919_i32, 1588180624_i32, -2110497280_i32, 126520421_i32, -1193884649_i32, -450007852_i32, -587496604_i32, -427501902_i32, -1076386185_i32, -583370846_i32, 1254831952_i32, -1615412084_i32, 767559760_i32, 1530361228_i32, 2090120851_i32, 1142737994_i32, 308817656_i32, 2084074321_i32, 2116437989_i32, 1204500556_i32, 349985785_i32, 982503431_i32, 1401313705_i32, 1630682277_i32, 1887555040_i32, -597286500_i32, 1440458636_i32, 371686442_i32, -649758121_i32, -1406681087_i32, -196611063_i32, 2093399767_i32, -874454822_i32, -1701703624_i32, -1050221127_i32, -669701852_i32, -2125973133_i32, 857516102_i32, 995505242_i32, -445516183_i32, -612692884_i32, 214917952_i32, -202371252_i32, 1731061562_i32, 1990400214_i32, -1273327991_i32, -1484743291_i32, 1715814315_i32, 1119460923_i32, 1176467379_i32, -1935578778_i32, -141398839_i32, 48816891_i32, 1057234_i32, 395975877_i32, 972794429_i32, 1463876024_i32, -655545238_i32, 94985190_i32, 982735700_i32, 1957126326_i32, -1327834649_i32, 2091818442_i32, -1552241875_i32, -300096664_i32, 1956336369_i32, -873027795_i32, -492388209_i32, -992388569_i32, 858900825_i32, -1788064079_i32, 787523382_i32, 1596590882_i32, -145217943_i32, 181763117_i32, -1268611722_i32, -2093122828_i32, 1701928290_i32, 50254199_i32, 1050735368_i32, -846710328_i32, 1431025868_i32, -1719160549_i32, 1843915099_i32, -345117793_i32, -608625786_i32, 205782560_i32, -254492799_i32, 384418514_i32, -1279428255_i32, -151810667_i32, -1808238058_i32, -894472519_i32, -366843634_i32, -1739279524_i32, 560274869_i32, -550648383_i32, 602388496_i32, 933350567_i32, -465999415_i32, 463852011_i32, 158690365_i32, -713742735_i32, 2138442327_i32, 2132867131_i32, 835242965_i32, 472114542_i32, 1408547078_i32, -1761021304_i32, -922607755_i32, -2031554280_i32, 816063665_i32, 15400988_i32, 1019361406_i32, -1828746715_i32, 1632756348_i32, 811993327_i32];
    let sample_i32_bound = vec![10_i32, 13_i32, 3_i32, 12_i32, 7_i32, 8_i32, 6_i32, 4_i32, 31_i32, 8_i32, 2_i32, 34_i32, 32_i32, 38_i32, 45_i32, 6_i32, 15_i32, 6_i32, 29_i32, 6_i32, 14_i32, 43_i32, 4_i32, 13_i32, 57_i32, 4_i32, 24_i32, 11_i32, 1_i32, 32_i32, 33_i32, 29_i32, 64_i32, 52_i32, 73_i32, 84_i32, 18_i32, 42_i32, 92_i32, 46_i32, 20_i32, 100_i32, 30_i32, 25_i32, 48_i32, 26_i32, 39_i32, 0_i32, 69_i32, 23_i32, 44_i32, 53_i32, 90_i32, 122_i32, 114_i32, 38_i32, 59_i32, 112_i32, 11_i32, 69_i32, 118_i32, 13_i32, 79_i32, 29_i32, 52_i32, 57_i32, 64_i32, 112_i32, 152_i32, 81_i32, 130_i32, 36_i32, 152_i32, 115_i32, 65_i32, 107_i32, 157_i32, 113_i32, 73_i32, 120_i32, 108_i32, 107_i32, 154_i32, 13_i32, 64_i32, 149_i32, 169_i32, 112_i32, 163_i32, 23_i32, 96_i32, 117_i32, 21_i32, 117_i32, 90_i32, 115_i32, 10_i32, 8_i32, 168_i32, 37_i32, 118_i32, 2_i32, 119_i32, 151_i32, 68_i32, 179_i32, 130_i32, 63_i32, 157_i32, 36_i32, 129_i32, 70_i32, 117_i32, 89_i32, 93_i32, 177_i32, 191_i32, 3_i32, 176_i32, 54_i32, 116_i32, 47_i32, 178_i32, 56_i32, 194_i32, 78_i32, 102_i32, 235_i32];
    let sample_i32_between_inclusive = vec![20_i32, 23_i32, 29_i32, 33_i32, 36_i32, 40_i32, 50_i32, 39_i32, 50_i32, 52_i32, 47_i32, 46_i32, 73_i32, 55_i32, 49_i32, 57_i32, 77_i32, 86_i32, 58_i32, 59_i32, 117_i32, 116_i32, 73_i32, 91_i32, 77_i32, 129_i32, 125_i32, 113_i32, 159_i32, 115_i32, 90_i32, 150_i32, 110_i32, 149_i32, 95_i32, 155_i32, 200_i32, 177_i32, 187_i32, 132_i32, 220_i32, 216_i32, 156_i32, 155_i32, 173_i32, 151_i32, 226_i32, 191_i32, 249_i32, 244_i32, 233_i32, 228_i32, 211_i32, 139_i32, 261_i32, 264_i32, 280_i32, 141_i32, 189_i32, 233_i32, 170_i32, 216_i32, 144_i32, 306_i32, 283_i32, 319_i32, 329_i32, 345_i32, 287_i32, 346_i32, 326_i32, 236_i32, 283_i32, 256_i32, 308_i32, 383_i32, 321_i32, 366_i32, 377_i32, 287_i32, 254_i32, 221_i32, 197_i32, 247_i32, 407_i32, 417_i32, 360_i32, 374_i32, 350_i32, 375_i32, 467_i32, 312_i32, 449_i32, 336_i32, 405_i32, 346_i32, 469_i32, 351_i32, 371_i32, 292_i32, 437_i32, 308_i32, 425_i32, 403_i32, 485_i32, 321_i32, 502_i32, 493_i32, 397_i32, 548_i32, 343_i32, 307_i32, 507_i32, 457_i32, 556_i32, 309_i32, 520_i32, 502_i32, 470_i32, 316_i32, 529_i32, 377_i32, 619_i32, 325_i32, 503_i32, 387_i32, 310_i32, 599_i32];
    let sample_i64 = vec![4592356689620503337_i64, -6925098775740369777_i64, -4645298180345658201_i64, 4752967667054972513_i64, 534185624844087992_i64, 1766701723314308092_i64, 8092405674044767029_i64, -4065994024215619158_i64, -6150105874470878589_i64, 6397574403338908882_i64, 5415464087022073037_i64, -3247966053195906131_i64, -7453863083816900552_i64, 637635351216799228_i64, 1418646388895626883_i64, 2449090429051060332_i64, -6228679230168193195_i64, 3101919975198026070_i64, 6445566080428603290_i64, 5741735154391775492_i64, -3422055727018434581_i64, -4588959587026711834_i64, -1155413488260385916_i64, -3230336295688951391_i64, -1407699219844076950_i64, 8330249858398179136_i64, 8534351915775807919_i64, -7563131593605561072_i64, -6113197003137166696_i64, -7493919529580408153_i64, 9020826038597437490_i64, 7503694227819940302_i64, -1397209856980872159_i64, 2284092573560762555_i64, -6400989569958827919_i64, 1546997565411557168_i64, 6196328551583679006_i64, 5774209867326205031_i64, -2211728602236478787_i64, 1800772426874845857_i64, 7430762085250098883_i64, -2082770797110789260_i64, 7875307571475220994_i64, -5350771552371182475_i64, 4002403859391434205_i64, -5735625296795708878_i64, 6148412712009080948_i64, 8252864395910785996_i64, -7381296514987857352_i64, -8663408525606322790_i64, -5265567234968310944_i64, -7519245502623141049_i64, 3949943874549252206_i64, -1242253470013009528_i64, -417701221386663788_i64, 1264079690530607962_i64, -3716578723253469325_i64, 4196378873283056813_i64, -6175293968976058774_i64, -6006113174648336766_i64, 4773112073396669141_i64, 4250242466324141375_i64, 6805570077570081546_i64, 1207151264828682318_i64, 4458904521196925497_i64, 7575898537091834413_i64, -8712419014689173268_i64, -7840676590104641654_i64, -7604520398506631452_i64, -3884533771027620773_i64, 9034091126703382071_i64, -6016827608838236265_i64, -4220268064870782455_i64, -7375992765098002238_i64, -4326754938261039189_i64, -7167918860503485677_i64, 4364967494542922981_i64, -6779782518758344613_i64, -1281228278278829214_i64, 3055425463941109136_i64, 4310525874408291229_i64, -7889729482522500740_i64, -8268301394906564632_i64, 7323937970072078848_i64, 2708009216667790797_i64, 2966137328544181375_i64, 8547378082834540822_i64, -8002958113120457424_i64, -5193038997963080665_i64, -8751424489323753693_i64, -3889022677926359768_i64, 1023212710236745148_i64, 1535516002165307103_i64, 7845343123666019479_i64, 8877347935908285851_i64, 4148907679541615720_i64, -1401773673036199689_i64, 2374603412704429597_i64, 7004572760417074696_i64, 6840714615458786809_i64, 5313030630984272655_i64, -8500968578248102325_i64, -6588780098394007988_i64, 8639460472039445911_i64, -54183528022167512_i64, 8323311710291897413_i64, 5446068540466878651_i64, -1056121283034134354_i64, 6025069173797030014_i64, -3472755693656603292_i64, -9140943207667678484_i64, -140521344323210452_i64, 4401256461849928588_i64, 5864556265004422036_i64, -1490710347597174979_i64, 8276166350487409503_i64, 5348926345053867158_i64, 4560204122403067887_i64, 5729066543303203043_i64, 6483486516872561195_i64, 362302179431894881_i64, -7076101060666637246_i64, -5623205857812937203_i64, -3018929251320522642_i64, -6752650587772991872_i64, -838747698884900736_i64, -977853299109619955_i64, -3904914543889678314_i64];
    let sample_bool = vec![false, true, true, false, false, false, false, false, true, true, false, false, false, true, false, false, false, false, false, false, false, true, false, false, false, true, true, true, false, true, true, true, false, true, true, true, false, true, false, false, false, true, true, false, false, false, true, false, false, false, false, false, false, true, true, true, false, false, true, false, true, true, false, true, false, true, false, true, false, false, true, true, false, false, true, true, false, false, false, true, true, true, false, true, false, false, true, false, false, true, true, false, true, false, true, true, false, false, false, true, false, false, false, false, false, false, false, false, true, false, false, false, false, true, true, true, true, true, true, true, true, false, false, true, true, false, true, true];
    let sample_f32 = vec![0.6540806_f32, 0.20194203_f32, 0.9890277_f32, 0.3687775_f32, 0.069399_f32, 0.91596836_f32, 0.50742626_f32, 0.6009407_f32, 0.0735898_f32, 0.17899513_f32, 0.23419255_f32, 0.38874835_f32, 0.27408957_f32, 0.4125229_f32, 0.67073613_f32, 0.9019449_f32, 0.7038504_f32, 0.5602071_f32, 0.33513576_f32, 0.2412898_f32, 0.46162271_f32, 0.6359924_f32, 0.09866917_f32, 0.21275568_f32, 0.9639772_f32, 0.74518913_f32, 0.5566792_f32, 0.57582164_f32, 0.06258482_f32, 0.59820163_f32, 0.35163522_f32, 0.8960187_f32, 0.5640083_f32, 0.40487218_f32, 0.016480267_f32, 0.81269926_f32, 0.68016547_f32, 0.3515147_f32, 0.15836996_f32, 0.032924592_f32, 0.31843567_f32, 0.50355315_f32, 0.29928005_f32, 0.33220083_f32, 0.61193055_f32, 0.07068485_f32, 0.071250856_f32, 0.5953354_f32, 0.45144033_f32, 0.5784481_f32, 0.298594_f32, 0.9061392_f32, 0.4180404_f32, 0.8536331_f32, 0.66995186_f32, 0.53758216_f32, 0.92193675_f32, 0.021509528_f32, 0.49676394_f32, 0.7253616_f32, 0.59640396_f32, 0.47594148_f32, 0.09223729_f32, 0.4679023_f32, 0.5069468_f32, 0.66969305_f32, 0.46542102_f32, 0.18156636_f32, 0.6961346_f32, 0.37309211_f32, 0.55814654_f32, 0.8150431_f32, 0.94701445_f32, 0.87468565_f32, 0.9600213_f32, 0.0040937066_f32, 0.81526583_f32, 0.09364247_f32, 0.6173685_f32, 0.96129066_f32, 0.9374344_f32, 0.08254576_f32, 0.1367929_f32, 0.10647583_f32, 0.79680645_f32, 0.6892675_f32, 0.53639954_f32, 0.04220712_f32, 0.5360199_f32, 0.89619136_f32, 0.4194544_f32, 0.49915755_f32, 0.29099727_f32, 0.60597324_f32, 0.62602705_f32, 0.9793325_f32, 0.97821516_f32, 0.75065374_f32, 0.10872489_f32, 0.9635505_f32, 0.4759091_f32, 0.9130778_f32, 0.5685472_f32, 0.18362057_f32, 0.7171151_f32, 0.060861945_f32, 0.76862234_f32, 0.89005095_f32, 0.08513695_f32, 0.06509507_f32, 0.3977614_f32, 0.6764006_f32, 0.75276333_f32, 0.093461156_f32, 0.9460766_f32, 0.89005286_f32, 0.25944155_f32, 0.7234279_f32, 0.4084714_f32, 0.37721795_f32, 0.95173967_f32, 0.41604817_f32, 0.6559529_f32, 0.3470952_f32, 0.5222388_f32, 0.46105057_f32, 0.7051035_f32, 0.54643434_f32];
    let sample_f64 = vec![0.006831251249957426_f64, 0.6229189729695939_f64, 0.7590951937240098_f64, 0.49036891966464513_f64, 0.03727436386409855_f64, 0.4597323155579035_f64, 0.6899687635081488_f64, 0.4673117022466957_f64, 0.3023395045920897_f64, 0.0791413996608471_f64, 0.7511985012593673_f64, 0.2097248251821605_f64, 0.6056387857879575_f64, 0.804137814498265_f64, 0.7057792876006038_f64, 0.5250794493252754_f64, 0.05493643842598184_f64, 0.6471454153885882_f64, 0.5037915625970163_f64, 0.704134716192742_f64, 0.34211047985044285_f64, 0.5417805293187484_f64, 0.9005872613787306_f64, 0.8480546473722048_f64, 0.9423920119478051_f64, 0.0954220126411659_f64, 0.9163709371475707_f64, 0.02442819171455901_f64, 0.3068637962947678_f64, 0.11324536653522532_f64, 0.5155097131999906_f64, 0.08198758410772322_f64, 0.07829652110948182_f64, 0.8901361922273461_f64, 0.9883181006146804_f64, 0.7107879161635318_f64, 0.5298834236343696_f64, 0.8192737968885657_f64, 0.5512658627078687_f64, 0.8674890988160033_f64, 0.44281331203110785_f64, 0.35251950419098543_f64, 0.6775585888252659_f64, 0.6269707069931435_f64, 0.5816155110807798_f64, 0.7790469013020682_f64, 0.8599811619341517_f64, 0.9561249967573231_f64, 0.03222891951060203_f64, 0.6394158070980486_f64, 0.8652541329831496_f64, 0.7396560938144701_f64, 0.16459303386224955_f64, 0.6118411321742656_f64, 0.7872758212910853_f64, 0.3142262267402727_f64, 0.9200249028112735_f64, 0.08696208006990946_f64, 0.12905966253952206_f64, 0.8906746724896505_f64, 0.005926080634117481_f64, 0.32120349045000685_f64, 0.798183784941045_f64, 0.44232127491959716_f64, 0.17791620041580603_f64, 0.5414444424606266_f64, 0.5915973013520386_f64, 0.44898021738731764_f64, 0.03440123819142471_f64, 0.9326940450459869_f64, 0.14525830913467652_f64, 0.8420193684761296_f64, 0.6732141912519861_f64, 0.9538990098208356_f64, 0.09474032357859419_f64, 0.10343457168492154_f64, 0.8407577509336834_f64, 0.5430951377758282_f64, 0.7170457610990245_f64, 0.6440475597397198_f64, 0.12799289910256972_f64, 0.8644334360167288_f64, 0.3692760689765845_f64, 0.27357491773008624_f64, 0.17592706179922524_f64, 0.7417084260358537_f64, 0.39751129368789073_f64, 0.31985759595935936_f64, 0.14408705383942222_f64, 0.49428727095832314_f64, 0.6733882232714605_f64, 0.3370696020946372_f64, 0.4490230034331497_f64, 0.9629920211637046_f64, 0.7842683859023002_f64, 0.2232907080151797_f64, 0.3031650450264689_f64, 0.6747269552983669_f64, 0.10109699401179462_f64, 0.20874605597847762_f64, 0.6041830569894648_f64, 0.6582149609892067_f64, 0.6141638109575774_f64, 0.451959961351736_f64, 0.5301308641262494_f64, 0.9882160754239793_f64, 0.5054606157983887_f64, 0.2683847232750123_f64, 0.12209285997694264_f64, 0.3158976427161784_f64, 0.783313688466826_f64, 0.2718736385583129_f64, 0.20161814430998837_f64, 0.7676074303814499_f64, 0.4434362561896582_f64, 0.44473022651416316_f64, 0.8540709213639018_f64, 0.5187839760261544_f64, 0.3182294120268291_f64, 0.7975161487025121_f64, 0.42754006802863076_f64, 0.9895387551258206_f64, 0.37812062421484827_f64, 0.95802715887858_f64, 0.673070822212603_f64, 0.2713495418837374_f64, 0.9458535497745748_f64, 0.6454299002495358_f64];
    check_against_samples(
        XoroshiroRandom::new(SEED).fork_positional().with_hash_of("ghgPls 4er Kaktus ghgPls").as_mut(),
        187,
        sample_i32.as_slice(),
        sample_i32_bound.as_slice(),
        sample_i32_between_inclusive.as_slice(),
        sample_i64.as_slice(),
        sample_bool.as_slice(),
        sample_f32.as_slice(),
        sample_f64.as_slice(),
    )
}

#[test]
fn xoroshiro_fork_positional_at_test() {
    let sample_i32 = vec![1448802996_i32, 1585687413_i32, -1813547159_i32, -2139765758_i32, -1380301419_i32, -1781623400_i32, -1783954546_i32, -519964997_i32, 1200261763_i32, 805392272_i32, -1279571926_i32, -14026069_i32, 297709573_i32, 1424794902_i32, -1162669414_i32, -1349276822_i32, -981206858_i32, -929075230_i32, -1544875978_i32, -1639693658_i32, -730737079_i32, 1083454386_i32, 607271213_i32, -1501978876_i32, -1605910864_i32, 1486408268_i32, -1559441063_i32, -1048307910_i32, 1591788525_i32, -1539096378_i32, 1609282000_i32, 15159720_i32, 1292510204_i32, -1173403772_i32, -1909825710_i32, -526712270_i32, -1331509746_i32, 1233642455_i32, -1784792215_i32, -1314309419_i32, 1188538597_i32, -691880448_i32, -1168105914_i32, 604784115_i32, 1466308785_i32, -2002123747_i32, -10258216_i32, 951604764_i32, 717886783_i32, 492274246_i32, -2069973278_i32, -973123506_i32, 1285469140_i32, 591929514_i32, -414661235_i32, 1618977913_i32, -45613849_i32, 941705206_i32, 1777153809_i32, 380695742_i32, 2133552053_i32, 1107291186_i32, -1415803510_i32, -368815915_i32, 920432131_i32, -68097978_i32, 934894866_i32, -207755603_i32, -1259314224_i32, 130590572_i32, 859109179_i32, -1033576463_i32, -301285829_i32, -932507452_i32, 947971134_i32, -2094059463_i32, 587887427_i32, -1171051018_i32, 569714325_i32, 1469151651_i32, -1586190225_i32, -384661302_i32, -234176651_i32, -1989608001_i32, -689551877_i32, -1694964054_i32, -677899905_i32, -220366071_i32, 1139679614_i32, 411875462_i32, -315739309_i32, -345949352_i32, 440787574_i32, -52524542_i32, 800011790_i32, -1971765305_i32, -1139234158_i32, -1417415754_i32, 1560517566_i32, 1954145937_i32, -1967950759_i32, -1746617992_i32, -1590481886_i32, 1005677051_i32, -1195861169_i32, 1430733472_i32, -1145499885_i32, 1374109144_i32, -478662745_i32, -2069593984_i32, -1293914106_i32, -432543981_i32, 1302519575_i32, 577931446_i32, -621306530_i32, 2120040619_i32, -298094029_i32, 266104624_i32, 478629764_i32, 410336391_i32, -1952709328_i32, 1292559239_i32, 1762436486_i32, -386744964_i32, -1947969519_i32, 1649225728_i32, -1366443576_i32, 1725071131_i32];
    let sample_i32_bound = vec![19_i32, 13_i32, 16_i32, 21_i32, 10_i32, 21_i32, 31_i32, 20_i32, 0_i32, 30_i32, 29_i32, 19_i32, 37_i32, 38_i32, 43_i32, 44_i32, 40_i32, 27_i32, 46_i32, 53_i32, 25_i32, 49_i32, 37_i32, 13_i32, 46_i32, 63_i32, 20_i32, 48_i32, 41_i32, 30_i32, 60_i32, 38_i32, 33_i32, 27_i32, 39_i32, 21_i32, 30_i32, 82_i32, 11_i32, 76_i32, 60_i32, 83_i32, 82_i32, 42_i32, 52_i32, 84_i32, 50_i32, 28_i32, 31_i32, 43_i32, 84_i32, 52_i32, 25_i32, 23_i32, 102_i32, 118_i32, 104_i32, 82_i32, 73_i32, 126_i32, 3_i32, 17_i32, 100_i32, 117_i32, 8_i32, 143_i32, 58_i32, 43_i32, 10_i32, 125_i32, 117_i32, 99_i32, 119_i32, 32_i32, 12_i32, 15_i32, 46_i32, 69_i32, 152_i32, 38_i32, 149_i32, 100_i32, 84_i32, 80_i32, 80_i32, 28_i32, 26_i32, 28_i32, 99_i32, 63_i32, 171_i32, 107_i32, 93_i32, 187_i32, 66_i32, 42_i32, 100_i32, 93_i32, 82_i32, 31_i32, 159_i32, 4_i32, 4_i32, 138_i32, 105_i32, 209_i32, 149_i32, 108_i32, 127_i32, 60_i32, 171_i32, 127_i32, 159_i32, 159_i32, 26_i32, 246_i32, 88_i32, 174_i32, 190_i32, 257_i32, 87_i32, 34_i32, 187_i32, 43_i32, 118_i32, 169_i32, 79_i32, 268_i32];
    let sample_i32_between_inclusive = vec![20_i32, 22_i32, 24_i32, 28_i32, 34_i32, 33_i32, 34_i32, 35_i32, 44_i32, 51_i32, 43_i32, 64_i32, 65_i32, 76_i32, 73_i32, 53_i32, 78_i32, 91_i32, 108_i32, 59_i32, 112_i32, 100_i32, 77_i32, 78_i32, 95_i32, 121_i32, 125_i32, 111_i32, 159_i32, 143_i32, 161_i32, 118_i32, 127_i32, 137_i32, 88_i32, 93_i32, 106_i32, 176_i32, 114_i32, 145_i32, 126_i32, 115_i32, 113_i32, 162_i32, 140_i32, 243_i32, 195_i32, 234_i32, 158_i32, 225_i32, 256_i32, 262_i32, 210_i32, 217_i32, 276_i32, 142_i32, 159_i32, 195_i32, 309_i32, 271_i32, 253_i32, 199_i32, 221_i32, 175_i32, 284_i32, 174_i32, 196_i32, 312_i32, 237_i32, 331_i32, 308_i32, 272_i32, 276_i32, 222_i32, 202_i32, 394_i32, 308_i32, 278_i32, 319_i32, 236_i32, 273_i32, 397_i32, 317_i32, 403_i32, 420_i32, 302_i32, 294_i32, 290_i32, 383_i32, 379_i32, 369_i32, 261_i32, 216_i32, 215_i32, 351_i32, 271_i32, 318_i32, 473_i32, 400_i32, 357_i32, 445_i32, 279_i32, 314_i32, 450_i32, 306_i32, 427_i32, 286_i32, 238_i32, 547_i32, 346_i32, 288_i32, 456_i32, 451_i32, 519_i32, 356_i32, 449_i32, 452_i32, 447_i32, 320_i32, 441_i32, 536_i32, 347_i32, 290_i32, 549_i32, 566_i32, 291_i32, 501_i32, 435_i32];
    let sample_i64 = vec![-6503774597613851891_i64, 2376566660938518906_i64, 4114414337287955058_i64, 3635835032036166849_i64, 5799397034788520313_i64, 7570929541700046409_i64, 1585356426818652508_i64, -5079721925296390413_i64, -1917231294844519660_i64, 3854005448249968313_i64, 2668258837041907068_i64, 3612483604094246961_i64, -2145240152401714683_i64, 98819417844803614_i64, -5293325447640417750_i64, -4158965766540805189_i64, -8920332562518953470_i64, -3448556284834372687_i64, 2248130332199192129_i64, -1836696992203509608_i64, 9161030863958121584_i64, -2482220157868366550_i64, -5496125418513510915_i64, 6691982847497220915_i64, 8408383267000284541_i64, -4475770387092557617_i64, -489515266835139393_i64, -861283813080405818_i64, -386523534823459774_i64, 1439480790214248634_i64, 6241660978390253186_i64, 2154072503993724087_i64, -1968262794981586422_i64, -6581863338470865038_i64, 1659871962842946947_i64, 4082438728046577179_i64, 3109989317109775527_i64, -6044320767884339327_i64, -5279461645327304865_i64, 7722203963490565140_i64, -5311118659322021454_i64, 8960876363140532066_i64, 7169395833807692109_i64, 3254117275769698656_i64, -5514360983872626797_i64, -1264545216692045100_i64, -4062233805151022686_i64, -502215970727998109_i64, -7777161236108783516_i64, -6490946905722995903_i64, 3197574188065079669_i64, 3272714207144265787_i64, 366787598818209102_i64, -892904809063865735_i64, -2240528899225192864_i64, 426014036305347579_i64, 5283267927321013858_i64, 127642164865741956_i64, 5754946947526513126_i64, -919677949520880551_i64, 6039142282614931930_i64, 8794394027405923796_i64, -1274301808417691356_i64, -6298726426277226231_i64, 1905882010617226587_i64, -8443149969307779036_i64, -4100742989702391955_i64, 895295670681517093_i64, -7778950761885146310_i64, -6662936017879840066_i64, 873040989147204896_i64, 6307139359345708079_i64, 2328398493771011184_i64, 3664965675322191836_i64, 3756333793676120546_i64, -895507050445083035_i64, -2640366972565043157_i64, -4402679588116712294_i64, -7050236149573730397_i64, -5782445529847913657_i64, -6375302791242683409_i64, 5323410685376449497_i64, -647238774284393137_i64, 3384950099575908884_i64, -7317138432082792526_i64, -523035834012730664_i64, 3087145403508838453_i64, -450753133261287818_i64, 4330053216716778838_i64, -9166886132100626363_i64, 7524606510772063971_i64, -5044280718312878630_i64, 8527006402153632738_i64, 5787679060725946294_i64, 1321724772821275177_i64, 1455783175529604302_i64, -1099900061815686746_i64, -8314579440215342121_i64, 7330645395360840221_i64, -7634688970452173622_i64, 7901739018778891550_i64, -1298268012094756260_i64, 2789027416210491326_i64, -2414632743839595412_i64, 3070651509146016534_i64, 8938083341283684707_i64, -382372442574520950_i64, 7689587837718045174_i64, -2352580271724184006_i64, -2033802159422122390_i64, -795884459201553015_i64, -1751682109025639575_i64, 5979747608464054409_i64, -2544579837143918556_i64, 8846731448002666601_i64, 3221729084669074395_i64, 7389831288142094568_i64, -8244152067804365155_i64, 4700640024573393820_i64, 2753859024221120664_i64, 5003866669653774441_i64, 7679117203813194707_i64, -3168832129913088721_i64, 7600411315967757952_i64, 5151095081224827496_i64, -4519448738824372235_i64, -5317039591225545709_i64, -7075248245082680713_i64];
    let sample_bool = vec![false, false, false, false, false, false, false, true, true, true, true, true, true, false, true, true, true, false, false, true, false, true, true, false, true, false, true, true, false, true, true, false, false, true, false, true, false, false, true, false, false, true, true, false, true, false, true, false, true, false, false, false, true, false, false, false, true, true, true, false, true, true, false, false, true, false, false, false, true, true, false, false, false, true, true, true, false, false, false, false, false, true, true, false, false, false, false, false, true, false, true, false, false, false, true, false, true, true, true, false, false, true, false, true, true, false, false, false, true, true, true, false, true, true, true, false, false, true, false, true, false, true, false, true, false, true, false, false];
    let sample_f32 = vec![0.8255434_f32, 0.7308798_f32, 0.9538143_f32, 0.7778544_f32, 0.091275394_f32, 0.9864321_f32, 0.8759568_f32, 0.07591045_f32, 0.9154277_f32, 0.14441252_f32, 0.32274008_f32, 0.42771655_f32, 0.04211235_f32, 0.52077323_f32, 0.9844394_f32, 0.23010993_f32, 0.1321199_f32, 0.58050615_f32, 0.33435708_f32, 0.30133522_f32, 0.9177653_f32, 0.90508014_f32, 0.26001137_f32, 0.8481578_f32, 0.39538443_f32, 0.4054668_f32, 0.8833463_f32, 0.877711_f32, 0.3681004_f32, 0.79056305_f32, 0.4506573_f32, 0.8799118_f32, 0.505804_f32, 0.44796765_f32, 0.7282184_f32, 0.29558432_f32, 0.43860668_f32, 0.62116313_f32, 0.38737202_f32, 0.9023291_f32, 0.8155679_f32, 0.87969416_f32, 0.018995643_f32, 0.31659478_f32, 0.061584473_f32, 0.96160716_f32, 0.9086512_f32, 0.2753297_f32, 0.22424078_f32, 0.27536166_f32, 0.77107483_f32, 0.47652507_f32, 0.48834336_f32, 0.24838758_f32, 0.6276452_f32, 0.94491225_f32, 0.57742894_f32, 0.78140986_f32, 0.84905595_f32, 0.14220744_f32, 0.55735034_f32, 0.18760228_f32, 0.88033044_f32, 0.24369854_f32, 0.42386067_f32, 0.5766269_f32, 0.7510721_f32, 0.16745484_f32, 0.22755533_f32, 0.84203553_f32, 0.8459958_f32, 0.7287639_f32, 0.15452355_f32, 0.49573344_f32, 0.25507075_f32, 0.33576292_f32, 0.34835315_f32, 0.6066571_f32, 0.82044685_f32, 0.79813033_f32, 0.6539357_f32, 0.75410223_f32, 0.77723956_f32, 0.7430984_f32, 0.3804288_f32, 0.12667406_f32, 0.30691195_f32, 0.6819068_f32, 0.7606871_f32, 0.3637843_f32, 0.2521525_f32, 0.1055972_f32, 0.6198543_f32, 0.36541736_f32, 0.3784485_f32, 0.28243846_f32, 0.67883456_f32, 0.49499977_f32, 0.2078073_f32, 0.9448907_f32, 0.5013631_f32, 0.5759266_f32, 0.72250193_f32, 0.023626626_f32, 0.11413646_f32, 0.029370666_f32, 0.8262328_f32, 0.5659712_f32, 0.3491665_f32, 0.896266_f32, 0.7697042_f32, 0.25346935_f32, 0.5545484_f32, 0.62723005_f32, 0.45197362_f32, 0.7729619_f32, 0.6547887_f32, 0.06723076_f32, 0.54768324_f32, 0.22073561_f32, 0.6796137_f32, 0.10869026_f32, 0.44279975_f32, 0.48214644_f32, 0.34197152_f32, 0.034490883_f32, 0.34525812_f32, 0.25431252_f32];
    let sample_f64 = vec![0.9462325424375161_f64, 0.1188613656794576_f64, 0.25623294967746146_f64, 0.3033090150970348_f64, 0.09299029050415997_f64, 0.7397864446962362_f64, 0.7296085645065883_f64, 0.22307333883442737_f64, 0.49026968820980543_f64, 0.7065649618383375_f64, 0.9682678080253075_f64, 0.016993839200045935_f64, 0.6460295497264824_f64, 0.3703135969815954_f64, 0.5316660730633432_f64, 0.7601885883131185_f64, 0.6716269180234322_f64, 0.15476110598399073_f64, 0.13132136012506646_f64, 0.6961224527981275_f64, 0.7952589772015533_f64, 0.34938487686533226_f64, 0.04907382882516864_f64, 0.8547368953627131_f64, 0.3050481367235657_f64, 0.39862606411922763_f64, 0.6132322222220171_f64, 0.7625025009473704_f64, 0.5188128491596751_f64, 0.6134416384251227_f64, 0.7374100170388432_f64, 0.9198566828633421_f64, 0.1567681259878413_f64, 0.7283256977637085_f64, 0.6243797588438872_f64, 0.02464905683989016_f64, 0.1595075651452642_f64, 0.20747563660710078_f64, 0.41076894368417105_f64, 0.7480394724807153_f64, 0.22600049300549174_f64, 0.34494040483782584_f64, 0.9857413635985321_f64, 0.187947494898556_f64, 0.4104499120645648_f64, 0.7086022263670705_f64, 0.33050032342637925_f64, 0.5123074813124_f64, 0.7200679080401763_f64, 0.3274655017304463_f64, 0.9759423104233957_f64, 0.8524301298414146_f64, 0.7437005319791299_f64, 0.5780771086968898_f64, 0.6003990421932652_f64, 0.933964720327516_f64, 0.3581067978916044_f64, 0.09066557880064863_f64, 0.15828064419006205_f64, 0.698439391084416_f64, 0.5289449532032482_f64, 0.05316690158544923_f64, 0.8553187364863302_f64, 0.6675146577301659_f64, 0.25749999682255076_f64, 0.12583188355272168_f64, 0.15191811843248715_f64, 0.699459397558668_f64, 0.7481186649745671_f64, 0.4577289429671353_f64, 0.8344741078512603_f64, 0.9329068477353464_f64, 0.9022787932508652_f64, 0.9176049084810466_f64, 0.5111512160568393_f64, 0.6250843395171055_f64, 0.1203345120544187_f64, 0.09172897229679722_f64, 0.7245431171181987_f64, 0.8435363011875466_f64, 0.5499284010072814_f64, 0.2146120189257671_f64, 0.2673355618639728_f64, 0.13491097140250508_f64, 0.8322963500200063_f64, 0.28517591041158663_f64, 0.8390627079786824_f64, 0.8229684305812722_f64, 0.37715539591994207_f64, 0.3513441371448177_f64, 0.47910392374744715_f64, 0.14380392493730954_f64, 0.9723232813742838_f64, 0.34760392419858943_f64, 0.668495301236545_f64, 0.07176238776258781_f64, 0.7798442912973359_f64, 0.6863449675518924_f64, 0.10375598294011801_f64, 0.7153184472917187_f64, 0.6440950885173965_f64, 0.18655315842697695_f64, 0.2244800095528442_f64, 0.7344781369497003_f64, 0.6884459502621456_f64, 0.20120974293939842_f64, 0.09232788715951601_f64, 0.1860789328878123_f64, 0.7168082867404159_f64, 0.8628319132715072_f64, 0.8875651025835507_f64, 0.20657465078779824_f64, 0.7066020344237054_f64, 0.32976597336943314_f64, 0.9490891852054903_f64, 0.6425098305521434_f64, 0.23026751389465872_f64, 0.9738461134033304_f64, 0.5578110401009391_f64, 0.6832814351227214_f64, 0.33840185846318727_f64, 0.5859971415670151_f64, 0.2250063128960994_f64, 0.1320390810144032_f64, 0.8357201502691586_f64, 0.6749706229209945_f64, 0.3775301894716655_f64, 0.020065516424125907_f64];
    check_against_samples(
        XoroshiroRandom::new(SEED).fork_positional().at(-9764542, 65245, 62458234).as_mut(),
        187,
        sample_i32.as_slice(),
        sample_i32_bound.as_slice(),
        sample_i32_between_inclusive.as_slice(),
        sample_i64.as_slice(),
        sample_bool.as_slice(),
        sample_f32.as_slice(),
        sample_f64.as_slice(),
    )
}

#[test]
fn xoroshiro_128_test() {
    let sample_i32 = vec![740275858_i32, -2115299151_i32, -1718360766_i32, 2038956047_i32, 474546094_i32, -315065372_i32, -819751791_i32, -1103225282_i32, 1374726793_i32, -1231018475_i32, 369649181_i32, -2027377257_i32, 1586385324_i32, 10705927_i32, -879668369_i32, 338782403_i32, -1482258701_i32, 244556411_i32, 1050156275_i32, -1945437442_i32, -1722462586_i32, 1296693412_i32, 332617424_i32, -917332672_i32, 689171247_i32, 1899589846_i32, -625548570_i32, 1815003616_i32, -1122226909_i32, 1290553549_i32, 2001115_i32, 66318978_i32, -407896666_i32, 1461419883_i32, 643470332_i32, -457191357_i32, -2104062176_i32, -1454283685_i32, -1469783936_i32, -1704015198_i32, -717046323_i32, 1135016616_i32, -2022497077_i32, 909771401_i32, -1289076341_i32, 1328615035_i32, 107091848_i32, 571939771_i32, 1198758835_i32, 1511899709_i32, 1777157292_i32, -536831775_i32, -1277455751_i32, 439404231_i32, -148645082_i32, -179176268_i32, 1306262410_i32, 2127748260_i32, -299905780_i32, -217893299_i32, 2026194400_i32, 1331457746_i32, -557994175_i32, -475180584_i32, -201777577_i32, 2055770119_i32, 1276411653_i32, 1829285007_i32, 133079746_i32, 1164145997_i32, -41454016_i32, 1008184832_i32, -1223140883_i32, -903156582_i32, 460609057_i32, 278100218_i32, 133106645_i32, 181872585_i32, 58879299_i32, -1923392464_i32, -529561071_i32, 2048310951_i32, -1777848410_i32, -647128968_i32, -678647256_i32, -1328351649_i32, 978699851_i32, 145321753_i32, 942581858_i32, 927866471_i32, 409145785_i32, 2106365585_i32, -566231888_i32, 1544879059_i32, -410103759_i32, 420964396_i32, -2137386326_i32, 687293573_i32, -921772883_i32, -238583321_i32, 2145025422_i32, -678342638_i32, -1447330264_i32, -76953688_i32, -1367277413_i32, -174108630_i32, -2119539344_i32, 1673796550_i32, -700067846_i32, 1573718364_i32, -446526833_i32, 2071368999_i32, -466185743_i32, -687127476_i32, -315271731_i32, 878108218_i32, -1104659933_i32, -1542897896_i32, 211552933_i32, -808548515_i32, 953716866_i32, -1917896480_i32, -1002910041_i32, 2133799873_i32, -2082638366_i32, 1428171052_i32, 511884871_i32, 2116563614_i32];
    let sample_i32_bound = vec![4_i32, 0_i32, 5_i32, 6_i32, 16_i32, 28_i32, 23_i32, 25_i32, 34_i32, 24_i32, 19_i32, 2_i32, 42_i32, 33_i32, 20_i32, 28_i32, 36_i32, 46_i32, 46_i32, 54_i32, 32_i32, 49_i32, 37_i32, 18_i32, 23_i32, 65_i32, 56_i32, 28_i32, 38_i32, 59_i32, 53_i32, 0_i32, 61_i32, 52_i32, 34_i32, 87_i32, 61_i32, 51_i32, 73_i32, 12_i32, 62_i32, 28_i32, 82_i32, 88_i32, 105_i32, 42_i32, 2_i32, 92_i32, 14_i32, 104_i32, 101_i32, 86_i32, 23_i32, 105_i32, 46_i32, 25_i32, 90_i32, 81_i32, 37_i32, 80_i32, 17_i32, 61_i32, 77_i32, 132_i32, 37_i32, 6_i32, 117_i32, 108_i32, 140_i32, 77_i32, 100_i32, 39_i32, 33_i32, 25_i32, 19_i32, 142_i32, 145_i32, 169_i32, 100_i32, 114_i32, 2_i32, 152_i32, 169_i32, 123_i32, 69_i32, 166_i32, 137_i32, 10_i32, 192_i32, 138_i32, 110_i32, 72_i32, 176_i32, 33_i32, 103_i32, 153_i32, 132_i32, 68_i32, 63_i32, 188_i32, 93_i32, 90_i32, 79_i32, 133_i32, 95_i32, 103_i32, 174_i32, 43_i32, 166_i32, 30_i32, 142_i32, 69_i32, 131_i32, 152_i32, 143_i32, 211_i32, 92_i32, 30_i32, 27_i32, 43_i32, 58_i32, 4_i32, 108_i32, 227_i32, 140_i32, 213_i32, 228_i32, 222_i32];
    let sample_i32_between_inclusive = vec![20_i32, 24_i32, 27_i32, 34_i32, 30_i32, 30_i32, 40_i32, 52_i32, 38_i32, 49_i32, 56_i32, 55_i32, 63_i32, 47_i32, 59_i32, 84_i32, 64_i32, 89_i32, 98_i32, 102_i32, 80_i32, 89_i32, 88_i32, 119_i32, 80_i32, 104_i32, 110_i32, 153_i32, 113_i32, 78_i32, 130_i32, 128_i32, 164_i32, 131_i32, 140_i32, 95_i32, 132_i32, 183_i32, 130_i32, 203_i32, 204_i32, 173_i32, 146_i32, 138_i32, 132_i32, 154_i32, 195_i32, 245_i32, 158_i32, 250_i32, 237_i32, 141_i32, 144_i32, 163_i32, 271_i32, 204_i32, 240_i32, 199_i32, 248_i32, 314_i32, 142_i32, 271_i32, 240_i32, 172_i32, 203_i32, 224_i32, 241_i32, 321_i32, 173_i32, 274_i32, 340_i32, 198_i32, 377_i32, 192_i32, 338_i32, 274_i32, 313_i32, 382_i32, 312_i32, 342_i32, 384_i32, 244_i32, 376_i32, 352_i32, 270_i32, 214_i32, 198_i32, 435_i32, 384_i32, 375_i32, 450_i32, 276_i32, 243_i32, 431_i32, 460_i32, 222_i32, 282_i32, 427_i32, 413_i32, 476_i32, 364_i32, 499_i32, 317_i32, 227_i32, 264_i32, 307_i32, 269_i32, 321_i32, 537_i32, 338_i32, 342_i32, 383_i32, 407_i32, 545_i32, 257_i32, 392_i32, 353_i32, 349_i32, 521_i32, 371_i32, 412_i32, 432_i32, 355_i32, 269_i32, 402_i32, 305_i32, 512_i32, 426_i32];
    let sample_i64 = vec![459596767586323390_i64, -6766703889640666413_i64, 6933513933857452129_i64, -364715126884453129_i64, 2785762001384876736_i64, -6093500879684687085_i64, -7723303361952558595_i64, -2313709509732192188_i64, -6193912873290585485_i64, 8841246858975037009_i64, -8798184591917572844_i64, -7043772447436459727_i64, 7287095094551200765_i64, -298612862694807407_i64, 8449132149732148056_i64, -557925039465697047_i64, -3010240211946168365_i64, -1049417204273386597_i64, -3088457804450278047_i64, 8777676401466298653_i64, -4024632828432351385_i64, 8027908770009346040_i64, 8889878326971002743_i64, 2068739011839801686_i64, -3504728121769571487_i64, -4607650367726749996_i64, -2486773347051210115_i64, -3403538631605491311_i64, -6059691012595440470_i64, -8859945925332569055_i64, -7725994567014866251_i64, -2253040326075328858_i64, 7688423604680386194_i64, -4201114731493709788_i64, -4470308856774995837_i64, -6764419948679276187_i64, -288496769030341050_i64, -4814079795658549494_i64, 8480286650001743496_i64, -4313626199366488834_i64, -5832796364457349297_i64, -1913974775607185735_i64, 6574406157151642647_i64, 8254130506565729075_i64, 2899079302924298024_i64, -7975197198745124603_i64, -5849872991400917743_i64, 6264152985150818014_i64, 2844186002339147392_i64, -3870291032719884229_i64, -7359145765000360497_i64, -8605319592704136853_i64, -2776460717203736125_i64, -7280663756524064484_i64, 3521120374784322149_i64, 2035038010779482855_i64, 6590278602286446246_i64, -4830526157026791864_i64, 2955991649990787724_i64, 3644169140255137022_i64, -5483621719891806175_i64, 2336197621466619666_i64, -4434495386238626870_i64, -6359788381374795532_i64, 4257468100764264659_i64, 7350033744145508015_i64, -7666202761347338927_i64, -2473008904555263280_i64, -2602821916860226306_i64, -426230699789906244_i64, -5171596321405897457_i64, 4375817066681471689_i64, -7585676617524002246_i64, -9138701875465227559_i64, 3177232900948973619_i64, 8745883972484803415_i64, -4671019203231927450_i64, -6871054868138104445_i64, -3662285115476310323_i64, 655406937867325430_i64, -6036807300471047607_i64, 5652030919291141368_i64, 8273581535006723650_i64, 8572397918377699823_i64, -5935934797993194702_i64, 5049021171455659962_i64, 7713541936384484177_i64, -1929028116812902914_i64, 275584472860394396_i64, 1296585587457698573_i64, 3081666520955743296_i64, 3506010321493893280_i64, -2420633573288584646_i64, 7941607624024323496_i64, -4031953252586069240_i64, 7673766782583635391_i64, -1103386902863740801_i64, 4473764269749370204_i64, -8244954186572009487_i64, 1011890185490033637_i64, -1672067871410627714_i64, 2857057342711709193_i64, 2170533047639528470_i64, 2878756618787131623_i64, 1062817946535802750_i64, -5742631721755251279_i64, -3018414112054064506_i64, 4484295572111319954_i64, 8170181005265891968_i64, 7827316717303452037_i64, 2828397942936254809_i64, 4633720597300094869_i64, 13180047280937108_i64, 2281725881918429342_i64, -8944624936611456332_i64, -2027320361691498431_i64, -5730059540996399443_i64, 3862569993825097525_i64, 4042355503669243138_i64, 5838288054755474069_i64, -5500853143427821920_i64, 3445035346185753871_i64, 3713536296170125526_i64, 1886315075250143418_i64, -3962368160870838560_i64, 8129105781743749314_i64, 3881276973243754475_i64, 3284354731133981286_i64];
    let sample_bool = vec![false, true, true, false, false, true, false, true, false, false, true, true, true, false, true, true, true, true, false, false, true, true, true, true, false, true, false, false, false, true, true, false, true, true, false, false, false, false, true, true, true, true, true, true, false, false, true, true, false, false, false, true, false, false, true, false, true, false, true, true, false, false, false, true, false, true, true, false, false, true, false, true, true, true, false, true, false, true, false, false, false, false, false, true, true, false, true, false, false, true, false, true, false, true, true, true, false, true, true, true, true, true, false, true, false, false, true, true, false, false, true, true, false, true, true, true, false, true, true, true, true, false, true, false, true, false, true, false];
    let sample_f32 = vec![0.31471312_f32, 0.9248438_f32, 0.5293306_f32, 0.6840102_f32, 0.46033424_f32, 0.37227273_f32, 0.22178793_f32, 0.36092818_f32, 0.22875643_f32, 0.09384704_f32, 0.9458796_f32, 0.3820268_f32, 0.83792907_f32, 0.69806695_f32, 0.9424394_f32, 0.93004316_f32, 0.17702168_f32, 0.25859153_f32, 0.33590215_f32, 0.29186094_f32, 0.759924_f32, 0.09090489_f32, 0.93042856_f32, 0.7377387_f32, 0.19908702_f32, 0.57012796_f32, 0.19167292_f32, 0.23156935_f32, 0.34341055_f32, 0.42940784_f32, 0.2355417_f32, 0.5893913_f32, 0.5491612_f32, 0.92348045_f32, 0.9750162_f32, 0.8190245_f32, 0.5862267_f32, 0.30368906_f32, 0.44466603_f32, 0.60203207_f32, 0.3009122_f32, 0.5415926_f32, 0.2936684_f32, 0.8055613_f32, 0.6523367_f32, 0.6111539_f32, 0.9889537_f32, 0.8149656_f32, 0.24072301_f32, 0.046477556_f32, 0.82196635_f32, 0.22117156_f32, 0.8214354_f32, 0.023740232_f32, 0.5154549_f32, 0.9126223_f32, 0.3404047_f32, 0.85599756_f32, 0.92981756_f32, 0.05530238_f32, 0.5795366_f32, 0.297526_f32, 0.23469013_f32, 0.41477698_f32, 0.6273812_f32, 0.8816118_f32, 0.8386561_f32, 0.7783996_f32, 0.3023979_f32, 0.746276_f32, 0.5170086_f32, 0.6211689_f32, 0.20360935_f32, 0.67778075_f32, 0.9466528_f32, 0.45548528_f32, 0.0773505_f32, 0.7272716_f32, 0.021766722_f32, 0.15905988_f32, 0.64256215_f32, 0.69980335_f32, 0.018994212_f32, 0.8765007_f32, 0.80680656_f32, 0.23280746_f32, 0.2497676_f32, 0.77118134_f32, 0.22324324_f32, 0.19664156_f32, 0.27981234_f32, 0.50710547_f32, 0.4052199_f32, 0.21082896_f32, 0.17216164_f32, 0.030178249_f32, 0.7162349_f32, 0.4037444_f32, 0.065695405_f32, 0.87002015_f32, 0.24088961_f32, 0.8081911_f32, 0.85868406_f32, 0.9135996_f32, 0.6097156_f32, 0.873704_f32, 0.22507137_f32, 0.21123177_f32, 0.30151474_f32, 0.8913504_f32, 0.8066144_f32, 0.9661485_f32, 0.50662816_f32, 0.51315737_f32, 0.50158733_f32, 0.100281715_f32, 0.13664585_f32, 0.4941414_f32, 0.4565764_f32, 0.98865265_f32, 0.7349198_f32, 0.12799436_f32, 0.6483509_f32, 0.020131528_f32, 0.54482055_f32, 0.4226879_f32, 0.19842881_f32, 0.7351798_f32];
    let sample_f64 = vec![0.6257422967693623_f64, 0.07472566921708068_f64, 0.41870233877988305_f64, 0.3249939888305935_f64, 0.21081777187973816_f64, 0.24582850696943837_f64, 0.9468445552128181_f64, 0.21764856706803648_f64, 0.07562352010650153_f64, 0.858851080819768_f64, 0.95813888966437_f64, 0.09483749357585503_f64, 0.2728560800674714_f64, 0.0937072948089428_f64, 0.6459765969439963_f64, 0.0429849742051166_f64, 0.4220108832750139_f64, 0.7540355565360188_f64, 0.5002736800968611_f64, 0.45490619430530643_f64, 0.44255298911979135_f64, 0.017996560164406206_f64, 0.08522715537560577_f64, 0.20802456153614113_f64, 0.5005262945545431_f64, 0.37590613857768373_f64, 0.6421304235038858_f64, 0.09788800428879973_f64, 0.8627901014857793_f64, 0.6125635458536558_f64, 0.8297734237235229_f64, 0.012313363445198844_f64, 0.48161336201480076_f64, 0.6352875545139197_f64, 0.8475508589033217_f64, 0.17501194798874808_f64, 0.9258106958581884_f64, 0.158156322857257_f64, 0.0301041494780232_f64, 0.9784821896590064_f64, 0.28456503632872654_f64, 0.8861136407879334_f64, 0.2371922255181934_f64, 0.312443596132602_f64, 0.703660193888461_f64, 0.6633799428311297_f64, 0.12068883142970499_f64, 0.7990848771294501_f64, 0.664235324776481_f64, 0.7647553774636112_f64, 0.6575900386300223_f64, 0.720579568903025_f64, 0.06371602346115668_f64, 0.7324142223323834_f64, 0.2502966883965616_f64, 0.8324982770905441_f64, 0.1376752280216762_f64, 0.9050236012308785_f64, 0.3703779452991508_f64, 0.800119873406082_f64, 0.7795376499834062_f64, 0.2897502664651418_f64, 0.6267782756406137_f64, 0.8584729275562304_f64, 0.14651539279612458_f64, 0.7019929280884765_f64, 0.3245083658786949_f64, 0.16277719272829516_f64, 0.5869435034468033_f64, 0.395102940984826_f64, 0.2308168869286178_f64, 0.19412646257706567_f64, 0.18952482776885804_f64, 0.1426226363754558_f64, 0.8454925059047361_f64, 0.4701796541701798_f64, 0.5108330286630969_f64, 0.3670787116409092_f64, 0.13900936342883208_f64, 0.2855221514115823_f64, 0.7892262326794487_f64, 0.55172380592943_f64, 0.5886218127402456_f64, 0.7533761905841811_f64, 0.8954448394457397_f64, 0.36458950314115324_f64, 0.7599407668561978_f64, 0.6624604995279253_f64, 0.15671086754820718_f64, 0.7712016626563101_f64, 0.563607110358847_f64, 0.24455209064048578_f64, 0.9314947648137476_f64, 0.7284851712814231_f64, 0.24246736310424855_f64, 0.2344614333827323_f64, 0.7903222354448267_f64, 0.822645145959854_f64, 0.8883321100761329_f64, 0.3680972337910773_f64, 0.6505446826183579_f64, 0.3395505333688993_f64, 0.40282941763820057_f64, 0.03673849008355001_f64, 0.6235626239880321_f64, 0.9892822592429088_f64, 0.6887994633417724_f64, 0.16748235481991347_f64, 0.007767542093741087_f64, 0.08382245186161108_f64, 0.5558542524762311_f64, 0.6882278425907219_f64, 0.9621703857323802_f64, 0.22158307858537107_f64, 0.2677938344727949_f64, 0.44699574240732_f64, 0.3488183336178372_f64, 0.3934232198957318_f64, 0.7319205527656983_f64, 0.3435020441048158_f64, 0.4491998898321766_f64, 0.8860275078285561_f64, 0.04542507586869948_f64, 0.47904946296977235_f64, 0.9218137671766462_f64, 0.3072280323344223_f64, 0.023345638834143312_f64, 0.8370301233932385_f64];
    check_against_samples(
        XoroshiroRandom::new_128(SEED, !SEED).as_mut(),
        187,
        sample_i32.as_slice(),
        sample_i32_bound.as_slice(),
        sample_i32_between_inclusive.as_slice(),
        sample_i64.as_slice(),
        sample_bool.as_slice(),
        sample_f32.as_slice(),
        sample_f64.as_slice(),
    )
}

fn check_against_samples(r: &mut dyn RandomSource,
                         skip: usize,
                         sample_i32: &[i32],
                         sample_i32_bound: &[i32],
                         sample_i32_between_inclusive: &[i32],
                         sample_i64: &[i64],
                         sample_bool: &[bool],
                         sample_f32: &[f32],
                         sample_f64: &[f64],
) {
    r.consume(skip);

    for &s in sample_i32 {
        assert_eq!(r.next_i32(), s);
    }

    for (i, &s) in sample_i32_bound.iter().enumerate() {
        assert_eq!(r.next_i32_bound((2 * i + 20) as i32), s);
    }

    for (i, &s) in sample_i32_between_inclusive.iter().enumerate() {
        assert_eq!(r.next_i32_between_inclusive(((2 * i + 20) as i32, (5 * i + 20) as i32)), s);
    }

    for &s in sample_i64 {
        assert_eq!(r.next_i64(), s);
    }

    for &s in sample_bool {
        assert_eq!(r.next_bool(), s);
    }

    for &s in sample_f32 {
        assert_eq!(r.next_f32(), s);
    }

    for &s in sample_f64 {
        assert_eq!(r.next_f64(), s);
    }
}

/*
Sample Generator from Minecraft 1.19.2
    var SEED = 0x786b544d6f473757L;
    var size = 128;
    var r = new <RANDOM_SOURCE>(SEED);

    r.consumeCount(187);

    var b = new StringBuilder();
    b.append("\nlet sample_i32 = vec![");
    for (int i = 0; i < size; i++) {
        if (i > 0) b.append(", ");
        b.append(String.format("%d_i32", r.nextInt()));
    }
    b.append("];\n");

    b.append("let sample_i32_bound = vec![");
    for (int i = 0; i < size; i++) {
        if (i > 0) b.append(", ");
        b.append(String.format("%d_i32", r.nextInt(2 * i + 20)));
    }
    b.append("];\n");

    b.append("let sample_i32_between_inclusive = vec![");
    for (int i = 0; i < size; i++) {
        if (i > 0) b.append(", ");
        b.append(String.format("%d_i32", r.nextIntBetweenInclusive(2 * i + 20, 5 * i + 20)));
    }
    b.append("];\n");

    b.append("let sample_i64 = vec![");
    for (int i = 0; i < size; i++) {
        if (i > 0) b.append(", ");
        b.append(String.format("%d_i64", r.nextLong()));
    }
    b.append("];\n");

    b.append("let sample_bool = vec![");
    for (int i = 0; i < size; i++) {
        if (i > 0) b.append(", ");
        b.append(r.nextBoolean());
    }
    b.append("];\n");

    b.append("let sample_f32 = vec![");
    for (int i = 0; i < size; i++) {
        if (i > 0) b.append(", ");
        b.append(r.nextFloat());
        b.append("_f32");
    }
    b.append("];\n");

    b.append("let sample_f64 = vec![");
    for (int i = 0; i < size; i++) {
        if (i > 0) b.append(", ");
        b.append(r.nextDouble());
        b.append("_f64");
    }
    b.append("];\n");

    System.out.println(b.toString());
*/